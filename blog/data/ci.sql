

--
-- Database: `ci`
--

-- --------------------------------------------------------

--
-- 表的结构 `admin`
--

CREATE TABLE IF NOT EXISTS `admin` (
  `user` varchar(32) CHARACTER SET utf8 COLLATE utf8_bin DEFAULT NULL,
  `password` varchar(100) CHARACTER SET utf8 COLLATE utf8_bin DEFAULT NULL,
  `id` int(10) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;

--
-- 转存表中的数据 `admin`
--

INSERT INTO `admin` (`user`, `password`, `id`) VALUES
('websai', 'e10adc3949ba59abbe56e057f20f883e', '1');

-- --------------------------------------------------------

--
-- 表的结构 `article`
--

CREATE TABLE IF NOT EXISTS `article` (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'id',
  `title` varchar(40) COLLATE utf8_unicode_ci NOT NULL COMMENT '标题',
  `type` varchar(10) COLLATE utf8_unicode_ci NOT NULL COMMENT '分类',
  `date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '时间',
  `abstract` varchar(1028) COLLATE utf8_unicode_ci NOT NULL,
  `content` text COLLATE utf8_unicode_ci NOT NULL COMMENT '内容',
  `pic` varchar(128) COLLATE utf8_unicode_ci DEFAULT NULL COMMENT '图片',
  `order` int(10) NOT NULL DEFAULT '0' COMMENT '排序',
  `is_top` tinyint(2) NOT NULL DEFAULT '0' COMMENT '置顶',
  `click_rate` int(10) DEFAULT '0',
  PRIMARY KEY (`id`),
  UNIQUE KEY `id` (`id`) USING BTREE
) ENGINE=MyISAM  DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci ROW_FORMAT=COMPACT AUTO_INCREMENT=86 ;

--
-- 转存表中的数据 `article`
--

(65, 'php的break', 'PHP', '2016-08-23 12:51:30', 'break后面可以带参数，break  2表示跳出两层循环。', '<p>PHP中的break非常常见，相信大家都用过。<br/></p><p>但break后面带参数你见过吗？</p><p>前两天遇到个3层循环的问题，因为需要限制数量，使用break，但break出来，发现页面不是我想要的，然后有记得有跳出多层循环的函数，最后发现只需要在break后面加上2就可以跳出两层循环了。</p><pre class="brush:php;toolbar:false">&lt;ul&nbsp;class=&quot;friendlink-ul&quot;&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;li&nbsp;class=&quot;friendlink-li&quot;&gt;友情链接&lt;/li&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;volist&nbsp;name=&quot;cateList&quot;&nbsp;id=&quot;vo&quot;&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;li&nbsp;class=&quot;friendlink-li&quot;&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;ul&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;?php\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$k&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;?&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;volist&nbsp;name=&quot;friendlylinkList&quot;&nbsp;id=&quot;vof&quot;&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;if&nbsp;condition=&quot;$vof[&#39;link_cate_id&#39;]&nbsp;eq&nbsp;$vo[&#39;cate_id&#39;]&quot;&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;?php\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$k++;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if($k&gt;5)&nbsp;break&nbsp;2;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;?&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a&nbsp;href=&quot;{$vof[&#39;linkUrl&#39;]}&quot;&nbsp;target=&quot;_blank&quot;&nbsp;title=&quot;{$vof[&#39;linkName&#39;]}&quot;&gt;{:msubstr($vof[&#39;linkName&#39;],&nbsp;0,&nbsp;20,&nbsp;&#39;utf-8&#39;,&nbsp;false)}&lt;/a&gt;&lt;/li&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/if&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/volist&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/ul&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/li&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/volist&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/ul&gt;</pre><p>是不是很好用。<br/></p>', NULL, 0, 0, 6),
(42, '鲜为人知的z-index', 'css', '2016-05-07 06:33:41', 'z-index仅在定位元素（position不等于static）中有效， z-index层叠水平的比较仅限于同一父级的层叠上下文中，非浮层元素（对话框等）尽量不要用z-index。', '<p style="margin: 5px 0px; background-color: rgb(255, 255, 255); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(62, 62, 62); font-family: &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif; font-size: 16px;">z-index一般理解就是设置标签在z轴先后顺序，z-index值大的显示在最前面，小的则会被遮挡，真的是这样吗？我们来一探究竟！<span style="background-color: rgb(255, 255, 255); line-height: 1.6;"></span></p><p style="margin: 5px 0px; background-color: rgb(255, 255, 255); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(62, 62, 62); font-family: &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif; font-size: 16px;">z-index可以设置成三个值：</p><ul class=" list-paddingleft-2" style="margin-top: 0px; margin-bottom: 0px; background-color: rgb(255, 255, 255); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(62, 62, 62); font-family: &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif; font-size: 16px;"><li><p style="margin: 5px 0px; background-color: inherit;">默认值auto。</p></li><li><p style="margin: 5px 0px; background-color: inherit;">数值。指示层叠级数，可以是负值。</p></li><li><p style="margin: 5px 0px; background-color: inherit;">inherit。继承父元素。</p></li></ul><p style="margin: 5px 0px; background-color: rgb(255, 255, 255); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(62, 62, 62); font-family: &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif; font-size: 16px;"><br style="background-color: inherit;"/></p><p style="margin: 5px 0px; background-color: rgb(255, 255, 255); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(62, 62, 62); font-family: &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif; font-size: 16px;"><span style="background-color: inherit; color: rgb(255, 0, 0);"><strong style="background-color: inherit;">层叠顺序&nbsp;stacking order</strong></span></p><p style="margin: 5px 0px; background-color: rgb(255, 255, 255); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(62, 62, 62); font-family: &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif; font-size: 16px;">HTML文档中的每个元素都能在文档中其它元素的之前或者之后。这就是所谓的层叠顺序。</p><p style="margin: 5px 0px; background-color: rgb(255, 255, 255); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(62, 62, 62); font-family: &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif; font-size: 16px;">层叠顺序不是z-index独有的，每个元素都有层叠顺序，元素渲染的先后顺序跟它有很大关系。</p><p style="margin: 5px 0px; background-color: rgb(255, 255, 255); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(62, 62, 62); font-family: &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif; font-size: 16px;">当元素发生层叠时，元素的层级高的会优先显示在上面，层级一样的则会根据dom的先后顺序进行渲染，后面的会覆盖前面的。</p><p style="margin: 5px 0px; background-color: rgb(255, 255, 255); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(62, 62, 62); font-family: &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif; font-size: 16px;"><img style="width: 529px; height: 337px;" alt="QQ图片20160507141037.png" src="/ueditor/php/upload/image/20160507/1462601721469932.png" title="1462601721469932.png" height="337" width="529"/></p><p style="margin: 5px 0px; background-color: rgb(255, 255, 255); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(62, 62, 62); font-family: &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif; font-size: 16px;"><br style="background-color: inherit;"/></p><p style="margin: 5px 0px; background-color: rgb(255, 255, 255); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(62, 62, 62); font-family: &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif; font-size: 16px; text-align: center;"><br/></p><p>试试看不用z-index来改变元素层叠顺序，<br/></p><br/><blockquote style="background-color: rgb(255, 255, 255); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(62, 62, 62); font-family: &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif; font-size: 16px;"><pre class="brush:html;toolbar:false">&lt;style&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;#box1{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;background:&nbsp;red;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;width:&nbsp;200px;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;height:&nbsp;200px;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;display:inline-block;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;#box2{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;background:&nbsp;yellow;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;width:&nbsp;200px;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;height:&nbsp;300px;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;margin-top:-200px;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&lt;/style&gt;\r\n&lt;div&nbsp;id=&quot;box1&quot;&gt;&lt;/div&gt;\r\n&lt;div&nbsp;id=&quot;box2&quot;&gt;&lt;/div&gt;</pre><p style="margin: 5px 0px; background-color: inherit;"><span style="background-color: inherit; font-family: inherit; color: rgb(255, 0, 0) !important; font-size: inherit !important;"></span><img style="width: 394px; height: 317px;" alt="1.png" src="/ueditor/php/upload/image/20160507/1462601749681902.png" title="1462601749681902.png" height="317" width="394"/></p></blockquote><p style="margin: 5px 0px; background-color: rgb(255, 255, 255); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(62, 62, 62); font-family: &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif; font-size: 16px;"><br style="background-color: inherit;"/></p><p style="margin: 5px 0px; background-color: rgb(255, 255, 255); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(62, 62, 62); font-family: &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif; font-size: 16px;">这里只做了细微的修改，就是给box1加了一个display:inline-block;的样式，从七阶图中看出，display：block的元素的层叠水平低于display：inline-block的元素，所以浏览器就将box2渲染到box1上面。</p><p><br/></p><br/><p style="margin: 5px 0px; background-color: rgb(255, 255, 255); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(62, 62, 62); font-family: &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif; font-size: 16px;"><br style="background-color: inherit;"/></p><p style="margin: 5px 0px; background-color: rgb(255, 255, 255); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(62, 62, 62); font-family: &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif; font-size: 16px;"><span style="background-color: inherit; color: rgb(255, 0, 0);"><strong style="background-color: inherit;">层叠上下文&nbsp;stacking context</strong></span></p><p style="margin-top:0px; margin-bottom:10px; color:rgb(51,51,51); font-family:Monaco,&#39;Microsoft YaHei&#39;,&#39;Hiragino Sans GB W3&#39;,Tahoma,Arial; font-size:13px; line-height:25px"><span style="font-size: 16px;">一组拥有公共父级的元素在层叠顺序中一起上移或者下移被称为层叠上下文。透彻的理解层叠上下文是真正掌握z-index和层叠顺序如何工作的关键所在。</span></p><p style="margin-top:0px; margin-bottom:10px; color:rgb(51,51,51); font-family:Monaco,&#39;Microsoft YaHei&#39;,&#39;Hiragino Sans GB W3&#39;,Tahoma,Arial; font-size:13px; line-height:25px"><span style="font-size: 16px;">每个层叠上下文有一个单独的HTML元素作为它的根元 \r\n素。当一个新的层叠上下文在一个元素上形成的时候，层叠上下文将其所有的子元素都限制在层叠顺序的一个特定位置。这意味着如果一个元素被层叠 \r\n顺序底部的一个层叠上下文所包含，将没有办法将其置于另一个不同的具有更高层叠顺序的层叠上下文中包含的元素之前，即便这个元素有无限大的z-index值。</span></p><p style="margin-top:0px; margin-bottom:10px; color:rgb(51,51,51); font-family:Monaco,&#39;Microsoft YaHei&#39;,&#39;Hiragino Sans GB W3&#39;,Tahoma,Arial; font-size:13px; line-height:25px"><span style="font-size: 16px;">在一个元素上形成层叠上下文有如下方式：</span></p><ul class=" list-paddingleft-2" style="padding:0px; margin:0px 0px 10px 25px; color:rgb(51,51,51); font-family:Monaco,&#39;Microsoft YaHei&#39;,&#39;Hiragino Sans GB W3&#39;,Tahoma,Arial; font-size:13px; line-height:25px"><li><p><span style="font-size: 16px;">当一个元素是文档的根元素（&lt;html&gt;元\r\n 素）</span></p></li><li><p><span style="font-size: 16px;">当一个元素有除static之外的position属性值且z-index值不为auto</span></p></li><li><p><span style="font-size: 16px;">当一个元素有小于1的opacity值</span></p></li><li><p><span style="font-size: 16px;"><span style="background-color: inherit; line-height: 1.6;"><span style="font-size: 16px;">当一个元素</span>的transform不等于none</span></span></p></li></ul><p style="margin-top:0px; margin-bottom:10px; color:rgb(51,51,51); font-family:Monaco,&#39;Microsoft YaHei&#39;,&#39;Hiragino Sans GB W3&#39;,Tahoma,Arial; font-size:13px; line-height:25px"><span style="font-size: 16px;">前两种形成层叠上下文的方式很有意义，且一般Web开发者都能够理解（即使他们不知道它们的叫法）。</span></p><p><br/></p><p style="margin: 5px 0px; background-color: rgb(255, 255, 255); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(62, 62, 62); font-family: &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif; font-size: 16px;"><br style="background-color: inherit;"/></p><p style="margin: 5px 0px; background-color: rgb(255, 255, 255); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(62, 62, 62); font-family: &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif; font-size: 16px;">结合七阶图，最下层background便是建立在层叠上下文的基础上的，也就是说在层叠上下文中，所有的元素都会渲染在该元素的层叠上下文背景和边框上面；因而在block、float元素等不存在层级上下文的元素中，当子元素设置z-index为负时，子元素会被父元素遮挡。</p><p style="margin: 5px 0px; background-color: rgb(255, 255, 255); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(62, 62, 62); font-family: &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif; font-size: 16px;"><br style="background-color: inherit;"/></p><blockquote style="background-color: rgb(255, 255, 255); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(62, 62, 62); font-family: &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif; font-size: 16px;"><pre class="brush:html;toolbar:false">&lt;style&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;#box1{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;position:&nbsp;relative;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;width:&nbsp;200px;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;height:&nbsp;200px;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;background:&nbsp;red;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;#box2{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;position:&nbsp;relative;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;z-index:-1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;width:&nbsp;100px;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;height:&nbsp;300px;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;background:&nbsp;yellow;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&lt;/style&gt;\r\n&nbsp;\r\n&lt;div&nbsp;id=&quot;box1&quot;&gt;\r\n&nbsp;&nbsp;&nbsp;&lt;div&nbsp;id=&quot;box2&quot;&gt;&lt;/div&gt;\r\n&lt;/div&gt;</pre></blockquote><p style="margin: 5px 0px; background-color: rgb(255, 255, 255); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(62, 62, 62); font-family: &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif; font-size: 16px;"><img style="width: 338px; height: 323px;" alt="222.PNG" src="/ueditor/php/upload/image/20160507/1462602108773447.png" title="1462602108773447.png" height="323" width="338"/></p><p style="margin: 5px 0px; background-color: rgb(255, 255, 255); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; color: rgb(62, 62, 62); font-family: &quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif; font-size: 16px; text-align: left;">这里，box并没有创建层叠上下文，当子元素box2设置z-index:-1时，box2所在的层叠上下文是根元素，即html根标签，根据七阶图可以看出，box2会渲染在html标签上面，box1(z-index:auto)下面，所以box2被遮挡了。<img data-src="http://mmbiz.qpic.cn/mmbiz/zPh0erYjkib0TXMuJRGH7TPOQvyawxuLGlgQF8nXibribchibjLZGbyztenMq8UhYTxtiaSibeFI4Cu96Qj9TgxD6VBQ/0?wx_fmt=png" data-type="png" data-ratio="0.5863309352517986" data-w="" src="http://www.dou520.wang/admin/ueditor/themes/default/images/spacer.gif" data-media-type="image" data-inited="true" style="background:url(http://www.dou520.wang/admin/ueditor/lang/zh-cn/images/localimage.png) no-repeat center center;border:1px solid #ddd" word_img="file:///D:/Documents/ynote/qq92D480B299A9AF1BD73BBC78E568219E/1c051bf1c9be4533ad8e901866f592f3/640.webp"/></p><p style="margin: 5px 0px; background-color: rgb(255, 255, 255); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(62, 62, 62); font-family: &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif; font-size: 16px;"><br style="background-color: inherit;"/></p><p style="margin: 5px 0px; background-color: rgb(255, 255, 255); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(62, 62, 62); font-family: &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif; font-size: 16px;">那么怎么解决这个问题呢？</p><p style="margin: 5px 0px; background-color: rgb(255, 255, 255); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(62, 62, 62); font-family: &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif; font-size: 16px;">简单吧，为box1建立一个层叠上下文（比如设置z-index:1;）即可，box1中的元素无论z-index是负的多少，都会显示在box1的背景之上，</p><p style="margin: 5px 0px; background-color: rgb(255, 255, 255); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(62, 62, 62); font-family: &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif; font-size: 16px;">如图：</p><p style="margin: 5px 0px; background-color: rgb(255, 255, 255); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(62, 62, 62); font-family: &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif; font-size: 16px;"><img style="width: 368px; height: 376px;" alt="222222.PNG" src="/ueditor/php/upload/image/20160507/1462602203684709.png" title="1462602203684709.png" height="376" width="368"/></p><p style="margin: 5px 0px; background-color: rgb(255, 255, 255); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(62, 62, 62); font-family: &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif; font-size: 16px; text-align: center;"><img data-src="http://mmbiz.qpic.cn/mmbiz/zPh0erYjkib0TXMuJRGH7TPOQvyawxuLGsI141ibkC84m67UbkItIj8VsQt1wWkfy1EVibBCicOuL5V0nWtUmFuMCw/0?wx_fmt=png" data-type="png" data-ratio="0.420863309352518" data-w="" src="http://www.dou520.wang/admin/ueditor/themes/default/images/spacer.gif" data-media-type="image" data-inited="true" style="background:url(http://www.dou520.wang/admin/ueditor/lang/zh-cn/images/localimage.png) no-repeat center center;border:1px solid #ddd" word_img="file:///D:/Documents/ynote/qq92D480B299A9AF1BD73BBC78E568219E/cd3b54e3321c40d2a703d7fdb3438476/640.webp"/></p><p style="margin: 5px 0px; background-color: rgb(255, 255, 255); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(62, 62, 62); font-family: &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif; font-size: 16px;"><br style="background-color: inherit;"/></p><p style="margin: 5px 0px; background-color: rgb(255, 255, 255); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(62, 62, 62); font-family: &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif; font-size: 16px;">这里我用了前面说的的第一种方式去创建层叠上下文，即定位元素中z-index不为auto的元素会建立层叠上下文。</p><p style="margin: 5px 0px; background-color: rgb(255, 255, 255); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(62, 62, 62); font-family: &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif; font-size: 16px;">为什么box1的z-index小于box2的z-index，box2却显示在box1上面呢？</p><p style="margin: 5px 0px; background-color: rgb(255, 255, 255); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(62, 62, 62); font-family: &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif; font-size: 16px;"><br style="background-color: inherit;"/></p><p style="margin: 5px 0px; background-color: rgb(255, 255, 255); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(62, 62, 62); font-family: &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif; font-size: 16px;">层叠水平仅在同一父级层叠上下文中进行比较，即层叠上下文box1中的子元素的层叠水平不会和另一个层叠上下文中的元素进行比较，当然也不会和box1自己比较。</p><p style="margin: 5px 0px; background-color: rgb(255, 255, 255); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; color: rgb(62, 62, 62); font-family: &quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,Arial,sans-serif; font-size: 16px; text-align: left;"><br style="background-color: inherit;"/></p><p style="margin: 5px 0px; background-color: rgb(255, 255, 255); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(62, 62, 62); font-family: &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif; font-size: 16px;">所以文章开头的问题，答案是否定的。</p><p style="margin: 5px 0px; background-color: rgb(255, 255, 255); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(62, 62, 62); font-family: &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif; font-size: 16px;"><br style="background-color: inherit;"/></p><p style="margin: 5px 0px; background-color: rgb(255, 255, 255); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(62, 62, 62); font-family: &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif; font-size: 16px;">总结：</p><ol class=" list-paddingleft-2" style="margin-top: 0px; margin-bottom: 0px; background-color: rgb(255, 255, 255); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(62, 62, 62); font-family: &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif; font-size: 16px;"><li><p style="margin: 5px 0px; background-color: inherit;">理解七阶图</p></li><li><p style="margin: 5px 0px; background-color: inherit;">z-index仅在设置position不等于static的元素中有效<br/></p></li><li><p style="margin: 5px 0px; background-color: inherit;">z-index层叠水平的比较仅限于同一级别的层叠上下文中</p></li></ol><p><br class="Apple-interchange-newline"/></p><p><br/></p>', NULL, 0, 1, 31),
(43, '去除a链接的虚线框', 'css', '2016-05-18 04:00:27', '去除难看的虚线框', '<p>a链接上的虚线框非常常见，而且真的非常难看。如图，</p><p><img alt="QQ截图20160518115050.png" src="/ueditor/php/upload/image/20160518/1463543706450238.png" title="1463543706450238.png"/></p><p>如何去除呢？</p><p>只需要加一行代码，完美解决。</p><pre class="brush:css;toolbar:false">a{\r\nblr:expression(this.onFocus=this.blur());&nbsp;/*for&nbsp;IE&nbsp;*/&nbsp;\r\noutline:none;&nbsp;/*for&nbsp;FF&nbsp;*/&nbsp;\r\n}</pre><p><img alt="QQ截图20160518115626.png" src="/ueditor/php/upload/image/20160518/1463543830115287.png" title="1463543830115287.png"/></p><p><br/></p><p>谷歌系还有一个输入框高亮显示的智能模式，其实也不怎么好看，去除加入：</p><p><img alt="QQ截图20160518115929.png" src="/ueditor/php/upload/image/20160518/1463544015893893.png" title="1463544015893893.png"/></p><pre class="brush:css;toolbar:false">input,textarea{outline:&nbsp;none;}</pre><p><br/></p>', NULL, 0, 1, 7),
(45, 'js获取当前地理位置与ip', 'js', '2016-05-27 09:12:02', '采用新浪接口： http://int.dpool.sina.com.cn/iplookup/iplookup.php?format=js 获取地理位置。', '<p>pc获取当前地理位置</p><pre class="brush:js;toolbar:false">&lt;script&nbsp;type=&quot;text/javascript&quot;&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$.getScript(&#39;http://int.dpool.sina.com.cn/iplookup/iplookup.php?format=js&#39;,&nbsp;function(_result)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(remote_ip_info.ret&nbsp;==&nbsp;&#39;1&#39;)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;alert里面换行用\n&nbsp;&nbsp;而非&lt;br&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;alert(&#39;\r\n国家：&#39;&nbsp;+&nbsp;remote_ip_info.country&nbsp;+&nbsp;&#39;\n省：&#39;&nbsp;+&nbsp;remote_ip_info.province&nbsp;+&nbsp;&#39;\n\r\n市：&#39;&nbsp;+&nbsp;remote_ip_info.city&nbsp;+&nbsp;&#39;\n区：&#39;&nbsp;+&nbsp;remote_ip_info.district&nbsp;+&nbsp;&#39;\r\n\nISP：&#39;&nbsp;+&nbsp;remote_ip_info.isp&nbsp;+&nbsp;&#39;\n类型：&#39;&nbsp;+&nbsp;remote_ip_info.type&nbsp;+&nbsp;&#39;\n其\r\n他：&#39;&nbsp;+&nbsp;remote_ip_info.desc);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;alert(&#39;没有找到匹配的IP地址信息！&#39;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});\r\n&lt;/script&gt;</pre><p><br style="background-color: inherit;"/></p><p><br style="background-color: inherit;"/></p><p>获取当前ip</p><pre class="brush:js;toolbar:false">&lt;script&gt;\r\nvar&nbsp;url&nbsp;=&nbsp;&#39;http://chaxun.1616.net/s.php?type=ip&amp;output=json&amp;callback=?&amp;_=&#39;&nbsp;+&nbsp;Math.random();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$.getJSON(url,&nbsp;function(data)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;alert(data.Ip);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});\r\n&lt;/script&gt;</pre><p><br/></p>', NULL, 0, 1, 6);
INSERT INTO `article` (`id`, `title`, `type`, `date`, `abstract`, `content`, `pic`, `order`, `is_top`, `click_rate`) VALUES
(46, 'ThinkPHP的复合查询', 'php', '2016-06-01 07:13:39', '复合查询使用了_complex作为子查询条件来定义，配合之前的查询方式，可以非常灵活的制定更加复杂的查询条件。', '<p>复合查询相当于封装了一个新的查询条件，然后并入原来的查询条件之中，所以可以完成比较复杂的查询条件组装。</p><p>例如查询name和title中有kw且id大于10的数据：</p><pre class="brush:php;toolbar:false">&nbsp;$where[&#39;name&#39;]&nbsp;&nbsp;=&nbsp;array(&#39;like&#39;,&nbsp;&#39;%kw%&#39;);\r\n&nbsp;$where[&#39;title&#39;]&nbsp;&nbsp;=&nbsp;array(&#39;like&#39;,&#39;%kw%&#39;);\r\n&nbsp;$where[&#39;_logic&#39;]&nbsp;=&nbsp;&#39;or&#39;;\r\n&nbsp;$map[&#39;_complex&#39;]&nbsp;=&nbsp;$where;\r\n&nbsp;$map[&#39;id&#39;]&nbsp;&nbsp;=&nbsp;array(&#39;gt&#39;,10);</pre><p><br/></p><p>相当于sql语句</p><pre class="brush:sql;toolbar:false">(&nbsp;id&nbsp;&gt;&nbsp;10)&nbsp;AND&nbsp;(&nbsp;(&nbsp;name&nbsp;like&nbsp;&#39;%kw%&#39;)&nbsp;OR&nbsp;(&nbsp;title&nbsp;like&nbsp;&#39;%kw%&#39;)&nbsp;)</pre><p><br/></p><p>其实，很多查询方式可以相互转换，例如上面的查询条件可以改成：</p><pre class="brush:php;toolbar:false">&nbsp;$where[&#39;id&#39;]&nbsp;=&nbsp;array(&#39;gt&#39;,10);\r\n&nbsp;$where[&#39;_string&#39;]&nbsp;=&nbsp;&#39;&nbsp;(name&nbsp;like&nbsp;&quot;%kw%&quot;)&nbsp;&nbsp;OR&nbsp;(&nbsp;title&nbsp;like&nbsp;&quot;%kw&quot;)&nbsp;&#39;;</pre><p></p><p>复合查询相当于封装了一个新的查询条件，然后并入原来的查询条件之中，所以可以完成比较复杂的查询条件组装。</p>', NULL, 0, 1, 10),
(47, 'ThinkPHP的组合查询', 'php', '2016-06-02 04:12:16', '组合查询的主体还是采用数组方式查询，只是加入了一些特殊的查询支持，包括字符串模式查询（_string）、复合查询（_complex）、请求字符串 查询（_query），混合查询中的特殊查询每次查询只能定义一个，由于采用数组的索引方式，索引相同的特殊查询会被覆盖。', '<p>如果你需要在查询的时候同时偶尔使用字符串却又不希望丢失数组方式的灵活的话，可以考虑使用组合查询。<br/>组合查询的主体还是采用数组方式查询，只是加入了一些特殊的查询支持，包括字符串模式查询（_string）、复合查询（_complex）、请求字符串\r\n查询（_query），混合查询中的特殊查询每次查询只能定义一个，由于采用数组的索引方式，索引相同的特殊查询会被覆盖。</p><p><br/></p><p><strong>一、字符串模式查询</strong>（采用_string 作为查询条件）<br/>数组条件还可以和字符串条件混合使用，例如：<code style="" class="prettyprint linenums lang-php prettyprinted"></code></p><pre class="brush:php;toolbar:false">&nbsp;$User&nbsp;=&nbsp;M(&quot;member&quot;);&nbsp;\r\n&nbsp;$map[&#39;id&#39;]&nbsp;=&nbsp;array(&#39;neq&#39;,5);\r\n&nbsp;$map[&#39;name&#39;]&nbsp;=&nbsp;&#39;wzt&#39;;\r\n&nbsp;$map[&#39;_string&#39;]&nbsp;=&nbsp;&#39;status=1&nbsp;AND&nbsp;score&gt;10&#39;;\r\n&nbsp;$User-&gt;where($map)-&gt;select();</pre><p><br/></p><p>最后得到的查询条件：</p><pre class="brush:sql;toolbar:false">(&nbsp;`id`&nbsp;!=&nbsp;5&nbsp;)&nbsp;AND&nbsp;(&nbsp;`name`&nbsp;=&nbsp;&#39;wzt&#39;&nbsp;)&nbsp;AND&nbsp;(&nbsp;status=1&nbsp;AND&nbsp;score&gt;10&nbsp;)</pre><p><br/><strong>二、请求字符串查询方式</strong><br/></p><p>请求字符串查询是一种类似于URL传参的方式，可以支持简单的条件<strong>判断</strong></p><pre class="brush:php;toolbar:false">&nbsp;$map[&#39;m_id&#39;]&nbsp;=&nbsp;array(&#39;gt&#39;,&#39;10&#39;);\r\n&nbsp;$map[&#39;_query&#39;]&nbsp;=&nbsp;&#39;status=1&amp;score&gt;60&amp;_logic=or&#39;;</pre><p><code style="" class="prettyprint linenums lang-php prettyprinted"></code><br/></p><p>得到的查询条件是：</p><pre class="brush:sql;toolbar:false">`m_id`&gt;10&nbsp;AND&nbsp;(`status`&nbsp;=&nbsp;&#39;1&#39;&nbsp;OR&nbsp;`score`&nbsp;&gt;&nbsp;&#39;60&#39;)</pre><p><br/></p><p><br/><strong>三、复合查询</strong><br/>复合查询相当于封装了一个新的查询条件，然后并入原来的查询条件之中，所以可以完成比较复杂的查询条件组装。<br/></p><p>例如</p><pre class="brush:php;toolbar:false">&nbsp;$where[&#39;name&#39;]&nbsp;&nbsp;=&nbsp;array(&#39;like&#39;,&nbsp;&#39;%kw%&#39;);\r\n&nbsp;$where[&#39;title&#39;]&nbsp;&nbsp;=&nbsp;array(&#39;like&#39;,&#39;%kw%&#39;);\r\n&nbsp;$where[&#39;_logic&#39;]&nbsp;=&nbsp;&#39;or&#39;;\r\n&nbsp;$con[&#39;_complex&#39;]&nbsp;=&nbsp;$where;\r\n&nbsp;$con[&#39;id&#39;]&nbsp;&nbsp;=&nbsp;array(&#39;gt&#39;,5);</pre><p><code style="" class="prettyprint linenums lang-php prettyprinted"></code><br/></p><p>查询条件是</p><pre class="brush:sql;toolbar:false">(&nbsp;id&nbsp;&gt;&nbsp;5)&nbsp;AND&nbsp;(&nbsp;(&nbsp;name&nbsp;like&nbsp;&#39;%kw%&#39;)&nbsp;OR&nbsp;(&nbsp;title&nbsp;like&nbsp;&#39;%kw%&#39;)&nbsp;)</pre><p>复合查询使用了_complex作为子查询条件来定义，配合之前的查询方式，可以非常灵活的制定更加复杂的查询条件。<br/></p><p>很多查询方式可以相互转换，例如上面的可以改成</p><pre class="brush:php;toolbar:false">&nbsp;$where[&#39;id&#39;]&nbsp;=&nbsp;array(&#39;gt&#39;,5);\r\n&nbsp;$where[&#39;_string&#39;]&nbsp;=&nbsp;&#39;&nbsp;(name&nbsp;like&nbsp;&quot;%kw%&quot;)&nbsp;&nbsp;OR&nbsp;(&nbsp;title&nbsp;like&nbsp;&quot;%kw%&quot;)&nbsp;&#39;;</pre><p><code style="" class="prettyprint linenums lang-php prettyprinted"></code><br/></p><p>最后生成的SQL语句是一致的。</p><p><br/></p>', NULL, 0, 1, 12),
(48, 'jQuery插件开发', 'js', '2016-06-04 13:33:01', 'jQuery插件开发分为两种：1 类级别、2 对象级别', '<p><br/></p><p>jQuery自定义了jQuery.extend()和jQuery.fn.extend()方法.其中jQuery.extend()方法能够创建全局函数或者选择器,而jQuery.fn.extend()方法能够创建jQuery对象方法.</p><p>jQuery插件开发就分为这两种： <br/><br/>一、类级别 <br/><br/>类级别你可以理解为扩展jquery类，最明显的例子是$.ajax(...),相当于静态方法。 <br/><br/>开发扩展其方法时使用$.extend方法，即jQuery.extend(object);&nbsp;</p><pre class="brush:js;toolbar:false">$.extend({\r\n&nbsp;&nbsp;&nbsp;al:function(msg){alert(msg);}\r\n});</pre><p>调用很简单，$.al(11);效果如下：</p><p><img src="/ueditor/php/upload/image/20160604/1465046777269616.png" title="1465046777269616.png" alt="捕获.PNG"/></p><p><br/></p><p>二、对象级别 <br/><br/>对象级别则可以理解为基于对象的拓展，如$(&quot;#scroll&quot;).slide(...); 这里这个slide呢，就是基于对象的扩展了。 <br/><br/>开发扩展其方法时使用$.fn.extend方法，即jQuery.fn.extend(object);&nbsp;</p><pre class="brush:js;toolbar:false">$.fn.extend({&nbsp;\r\nshtml:&nbsp;function&nbsp;(showhtml)&nbsp;{&nbsp;\r\njQuery(this).html(showhtml);&nbsp;\r\n}&nbsp;\r\n})</pre><p>调用也很简单，<br/></p><pre class="brush:html;toolbar:false">&lt;div&nbsp;class=&quot;msg&quot;&gt;&lt;/div&gt;\r\n&lt;script&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;$(&#39;.msg&#39;).shtml(&#39;111&#39;);\r\n&lt;/script&gt;</pre><p>效果如下：</p><p><img src="/ueditor/php/upload/image/20160604/1465046931169395.png" title="1465046931169395.png" alt="捕获.PNG"/></p><p><br/></p><p>这里只是最简单的示例，你可以尝试开发一些复杂美观的插件。</p>', NULL, 0, 1, 33),
(49, 'HTML的快速写法：Emmet', 'web', '2016-06-07 11:34:32', 'HTML代码写起来很费事，因为它的标签多。我们可以使用Emmet简写法。', '<p>今天同事跟我讲了一个写html标签的快捷方法，真的很好用。其实就是是一款很多编辑器都支持的插件Emmet。<br/></p><p>Emmet (前身为 Zen Coding) 是一个能大幅度提高前端开发效率的一个工具:</p><p>基本上，大多数的文本编辑器都会允许你存储和重用一些代码块，我们称之为“片段”。虽然片段能很好地推动你得生产力，但大多数的实现都有这样一个缺点：你必须先定义你得代码片段，并且不能再运行时进行拓展。</p><p>Emmet把片段这个概念提高到了一个新的层次：你可以设置CSS形式的能够动态被解析的表达式，然后根据你所输入的缩写来得到相应的内容。</p><p style="text-align: center;"><img src="/ueditor/php/upload/image/20160607/1465298244282226.jpg"/></p><p>Emmet语法很简单，如下：</p><pre class="brush:html;toolbar:false">&nbsp;E&nbsp;代表HTML标签。\r\n&nbsp;E#id&nbsp;代表id属性。\r\n&nbsp;E.class&nbsp;代表class属性。\r\n&nbsp;E[attr=foo]&nbsp;代表某一个特定属性。</pre><pre class="brush:html;toolbar:false">&nbsp;E{foo}&nbsp;代表标签包含的内容是foo。\r\n&nbsp;E&gt;N&nbsp;代表N是E的子元素。\r\n&nbsp;E+N&nbsp;代表N是E的同级元素。\r\n&nbsp;E^N&nbsp;代表N是E的上级元素。</pre><p>例子1：</p><p>输入html：5<br/></p><p><img alt="QQ截图20160607191858.png" src="/ueditor/php/upload/image/20160607/1465298754434111.png" title="1465298754434111.png"/></p><p>按下ctrl+e，效果如下：<br/></p><p><img src="/ueditor/php/upload/image/20160607/1465298722397768.png" style="" title="1465298722397768.png"/></p><p>是不是很方便，再来看例子2：</p><p>输入这些<br/></p><p><img alt="QQ截图20160607192351.png" src="/ueditor/php/upload/image/20160607/1465298826492922.png" title="1465298826492922.png"/></p><p>一个个按ctrl+e，得到：</p><p></p><p><img src="/ueditor/php/upload/image/20160607/1465298723538547.png" style="width: 476px; height: 437px;" title="1465298723538547.png" height="437" width="476"/></p><p>怎么样？有没有学会，更多效果可以自己捣鼓捣鼓。</p><p>参考网址，这里很详细：http://www.w3cplus.com/tools/emmet-cheat-sheet.html</p>', NULL, 0, 1, 27),
(50, 'js判断手机访问并跳转到相应页面', 'js', '2016-06-13 05:56:35', '判断客户端是移动端浏览器，然后进行js跳转。', '<p>方法有很多，列出自己遇到并能成功实现的三种方法。</p><p>1、利用正则判断客户端</p><pre class="brush:js;toolbar:false">function&nbsp;browserRedirect()&nbsp;{&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;sUserAgent=&nbsp;navigator.userAgent.toLowerCase();&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;bIsIpad=&nbsp;sUserAgent.match(/ipad/i)&nbsp;==&nbsp;&quot;ipad&quot;;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;bIsIphoneOs=&nbsp;sUserAgent.match(/iphone&nbsp;os/i)&nbsp;==&nbsp;&quot;iphone&nbsp;os&quot;;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;bIsMidp=&nbsp;sUserAgent.match(/midp/i)&nbsp;==&nbsp;&quot;midp&quot;;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;bIsUc7=&nbsp;sUserAgent.match(/rv:1.2.3.4/i)&nbsp;==&nbsp;&quot;rv:1.2.3.4&quot;;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;bIsUc=&nbsp;sUserAgent.match(/ucweb/i)&nbsp;==&nbsp;&quot;ucweb&quot;;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;bIsAndroid=&nbsp;sUserAgent.match(/android/i)&nbsp;==&nbsp;&quot;android&quot;;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;bIsCE=&nbsp;sUserAgent.match(/windows&nbsp;ce/i)&nbsp;==&nbsp;&quot;windows&nbsp;ce&quot;;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;bIsWM=&nbsp;sUserAgent.match(/windows&nbsp;mobile/i)&nbsp;==&nbsp;&quot;windows&nbsp;mobile&quot;;\r\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(bIsIpad&nbsp;||&nbsp;bIsIphoneOs&nbsp;||&nbsp;bIsMidp&nbsp;||&nbsp;bIsUc7&nbsp;||&nbsp;bIsUc&nbsp;||&nbsp;bIsAndroid&nbsp;||&nbsp;bIsCE&nbsp;||&nbsp;bIsWM)&nbsp;{&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;window.location.href=&nbsp;&#39;http://www.dou520.wang&#39;;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;}&nbsp;\r\nbrowserRedirect();</pre><p><br/></p><p>2、引用百度siteapp</p><pre class="brush:js;toolbar:false">&lt;script&nbsp;src=&quot;http://siteapp.baidu.com/static/webappservice/uaredirect.js&quot;&nbsp;type=&quot;text/javascript&quot;&gt;\r\n&lt;/script&gt;\r\n&lt;script&nbsp;type=&quot;text/javascript&quot;&gt;uaredirect(&quot;http://www.dou520.wang&quot;);&lt;/script&gt;</pre><p><br/></p><p>3.判断，本质同一</p><pre class="brush:js;toolbar:false">(function&nbsp;()&nbsp;{var&nbsp;sUserAgent&nbsp;=&nbsp;navigator.userAgent;&nbsp;\r\nif&nbsp;(sUserAgent.indexOf(&#39;Android&#39;)&nbsp;&gt;&nbsp;-1&nbsp;||&nbsp;sUserAgent.indexOf(&#39;iPhone&#39;)&nbsp;&gt;&nbsp;-1&nbsp;\r\n||&nbsp;sUserAgent.indexOf(&#39;iPad&#39;)&nbsp;&gt;&nbsp;-1&nbsp;||&nbsp;sUserAgent.indexOf(&#39;iPod&#39;)&nbsp;&gt;&nbsp;-1&nbsp;\r\n||&nbsp;sUserAgent.indexOf(&#39;Symbian&#39;)&nbsp;&gt;&nbsp;-1)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;location.href&nbsp;=&nbsp;&#39;http://www.dou520.wang&#39;;&nbsp;&nbsp;&nbsp;&nbsp;//手机端地址&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n}&nbsp;else&nbsp;{}\r\n})();</pre><p><br/></p><p>方法其实很多，大部分原理都是通过判断客户端是否为移动端浏览器，然后跳转。<br/></p>', NULL, 0, 1, 28),
(51, 'CSS 外边距合并', 'css', '2016-06-14 05:28:45', '外边距合并指的是，当两个垂直外边距相遇时，它们将形成一个外边距。合并后的外边距的高度等于两个发生合并的外边距的高度中的较大者。', '<p>外边距合并以前确实遇到过，但从没有深究过，没有在意，前几天同事说到这个问题，便查了查。</p><p>外边距合并（叠加）是一个相当简单的概念。但是，在实践中对网页进行布局时，它会造成许多混淆。</p><p>简单地说，外边距合并指的是，当两个垂直外边距相遇时，它们将形成一个外边距。合并后的外边距的高度等于两个发生合并的外边距的高度中的较大者。</p><p>当一个元素出现在另一个元素上面时，第一个元素的下外边距与第二个元素的上外边距会发生合并。请看下图：</p><p><img src="/ueditor/php/upload/image/20160614/1465876802179961.gif" alt="CSS 外边距合并实例 1"/></p><p>当一个元素包含在另一个元素中时（假设没有内边距或边框把外边距分隔开），它们的上和/或下外边距也会发生合并。请看下图：</p><p><img src="/ueditor/php/upload/image/20160614/1465876803827177.gif" alt="CSS 外边距合并实例 2"/></p><p>尽管看上去有些奇怪，但是外边距甚至可以与自身发生合并。</p><p>假设有一个空元素，它有外边距，但是没有边框或填充。在这种情况下，上外边距与下外边距就碰到了一起，它们会发生合并：</p><p><img src="/ueditor/php/upload/image/20160614/1465876803750334.gif" alt="CSS 外边距合并实例 3"/></p><p>如果这个外边距遇到另一个元素的外边距，它还会发生合并：</p><p><img src="/ueditor/php/upload/image/20160614/1465876804472653.gif" alt="CSS 外边距合并实例 4"/></p><p>这就是一系列的段落元素占用空间非常小的原因，因为它们的所有外边距都合并到一起，形成了一个小的外边距。</p><p>外边距合并初看上去可能有点奇怪，但是实际上，它是有意义的。以由几个段落组成的典型文本页面为例。第一个段落上面的空间等于段落的上外边距。如果\r\n没有外边距合并，后续所有段落之间的外边距都将是相邻上外边距和下外边距的和。这意味着段落之间的空间是页面顶部的两倍。如果发生外边距合并，段落之间的\r\n上外边距和下外边距就合并在一起，这样各处的距离就一致了。</p><p><img src="/ueditor/php/upload/image/20160614/1465876804668750.gif" alt="CSS 外边距合并的实际意义"/></p><p class="note">注意：只有普通文档流中块状元素的垂直外边距才会发生外边距合并。行内元素、浮动元素或绝对定位元素之间的外边距不会合并。</p>', NULL, 0, 1, 4),
(52, 'css实现文字竖排', 'css', '2016-06-21 09:15:50', 'writing-mode：horizontal-tb | vertical-rl | vertical-lr | lr-tb | tb-rl', '<section id="syntax"><p>\r\n		<span style="font-family: 微软雅黑,Microsoft YaHei;">文字竖排会用到<span style="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);">writing-mode</span>属性，我们先来看看例子。</span></p><pre class="brush:css;toolbar:false">.shupai{\r\nwriting-mode:&nbsp;tb-rl;\r\nwriting-mode:&nbsp;vertical-rl;\r\n-webkit-writing-mode:&nbsp;vertical-rl;\r\ncolor:&nbsp;#3B3533;\r\nfont-size:&nbsp;20px;\r\n}\r\n\r\n&lt;div&nbsp;class=&quot;shupai&quot;&gt;\r\n&lt;p&gt;女王用冰冷的外表保护自己，&lt;/p&gt;&lt;p&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;其实内心如水，\r\n&lt;/p&gt;\r\n&lt;p&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;内在好似绵密的奶油，\r\n&lt;/p&gt;\r\n&lt;p&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;极易被热情融化......\r\n&lt;/p&gt;\r\n&lt;/div&gt;</pre><p><span style="font-family: 微软雅黑,Microsoft YaHei;"></span>效果如图：</p><p><img alt="QQ截图20160621170848.png" src="/ueditor/php/upload/image/20160621/1466500285331663.png" title="1466500285331663.png"/></p><h2><span style="font-size: 16px; color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);">语法：</span></h2>\r\n		<p>\r\n			</p><p><span style="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);">writing-mode：horizontal-tb | vertical-rl | vertical-lr |lr-tb|tb-rl</span></p><p>\r\n			</p><p><span style="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);">默认值：</span><mark><span style="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);">horizontal-tb</span></mark></p><p>\r\n			</p><p><span style="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);">适用于：除&nbsp; </span><a style="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); text-decoration: none;" href="http://css.doyoe.com/properties/layout/display.htm"><span style="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);">display</span></a><span style="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); text-decoration: none;">&nbsp; </span><span style="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);">属性定义为table-row-group | table-column-group | table-row | table-column之外的所有元素</span></p><p>\r\n			</p><br/><p>\r\n		</p>\r\n	</section><p>\r\n	<section id="value">\r\n		<h2><span style="font-size: 16px; color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);">取值：</span></h2>\r\n		<p>\r\n			</p><ul class=" list-paddingleft-2"><li><p><span style="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);">horizontal-tb：</span></p></li><li><p><span style="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);">水平方向自上而下的书写方式。即 left-right-top-bottom（类似IE私有值lr-tb）</span></p></li><li><p><span style="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);">vertical-rl：</span></p></li><li><p><span style="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);">垂直方向自右而左的书写方式。即 top-bottom-right-left（类似IE私有值tb-rl）</span></p></li><li><p><span style="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);">vertical-lr：</span></p></li><li><p><span style="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);">垂直方向自左而右的书写方式。即 top-bottom-left-right</span></p></li><li><p><span style="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);">lr-tb：</span></p></li><li><p><span style="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);">左-右，上-下。对象中的内容在水平方向上从左向右流入，后一行在前一行的下面。 所有的字形都是竖直向上的。这种布局是罗马语系使用的（IE）</span></p></li><li><p><span style="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);">tb-rl：</span></p></li><li><p><span style="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);">上-下，右-左。对象中的内容在垂直方向上从上向下流入，自右向左。后一竖行在前一竖行的左面。全角字符是竖直向上的，半角字符如拉丁字母或片假名顺时针旋转90度。这种布局是东亚语系通常使用的（IE）</span></p></li></ul><p><span style="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);">用法简单，兼容性不错。</span></p><p><span style="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);">只是今天，用<span style="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);">writing-mode</span>遇到了奇怪的问题，</span></p><p><span style="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);"><img alt="QQ截图20160621171346.png" src="/ueditor/php/upload/image/20160621/1466500541696996.png" title="1466500541696996.png"/></span></p><p><span style="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);">混凝吐三个字，凝字被土字覆盖了，查了一会没查出原因，把混凝土中凝换成其他字又会正常，奇怪，你知道吗？</span></p><p><span style="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);"></span></p><p>\r\n		</p>\r\n	</section></p><p><br/></p>', NULL, 0, 1, 5),
(53, 'PHP中获取当前页面的完整URL', 'php', '2016-06-22 07:57:31', '$_SERVER 是一个包含了诸如头信息(header)、路径(path)、以及脚本位置(script locations)等等信息的数组。这个数组中的项目由 Web 服务器创建。', '<p>$_SERVER 是一个包含了诸如头信息(header)、路径(path)、以及脚本位置(script locations)等等信息的数组。这个数组中的项目由 Web 服务器创建。<br/></p><pre class="brush:php;toolbar:false">&lt;?php\r\n#测试网址:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;http://www.dou520.wang/blog/testurl.php?id=5\r\n\r\n//获取域名或主机地址&nbsp;\r\necho&nbsp;$_SERVER[&#39;HTTP_HOST&#39;].&quot;&lt;br&gt;&quot;;&nbsp;#www.dou520.wang\r\n\r\n//获取网页地址&nbsp;\r\necho&nbsp;$_SERVER[&#39;PHP_SELF&#39;].&quot;&lt;br&gt;&quot;;&nbsp;#/blog/testurl.php\r\n\r\n//获取网址参数&nbsp;\r\necho&nbsp;$_SERVER[&quot;QUERY_STRING&quot;].&quot;&lt;br&gt;&quot;;&nbsp;#id=5\r\n\r\n//获取用户代理&nbsp;\r\necho&nbsp;$_SERVER[&#39;HTTP_REFERER&#39;].&quot;&lt;br&gt;&quot;;&nbsp;\r\n\r\n//获取完整的url\r\necho&nbsp;&#39;http://&#39;.$_SERVER[&#39;HTTP_HOST&#39;].$_SERVER[&#39;REQUEST_URI&#39;];\r\necho&nbsp;&#39;http://&#39;.$_SERVER[&#39;HTTP_HOST&#39;].$_SERVER[&#39;PHP_SELF&#39;].&#39;?&#39;.$_SERVER[&#39;QUERY_STRING&#39;];\r\n#http://www.dou520.wang/blog/testurl.php?id=5\r\n\r\n//包含端口号的完整url\r\necho&nbsp;&#39;http://&#39;.$_SERVER[&#39;SERVER_NAME&#39;].&#39;:&#39;.$_SERVER[&quot;SERVER_PORT&quot;].$_SERVER[&quot;REQUEST_URI&quot;];&nbsp;\r\n#http://www.dou520.wang:80/blog/testurl.php?id=5\r\n\r\n//只取路径\r\n$url=&#39;http://&#39;.$_SERVER[&#39;SERVER_NAME&#39;].$_SERVER[&quot;REQUEST_URI&quot;];&nbsp;\r\necho&nbsp;dirname($url);\r\n#http://www.dou520.wang/blog\r\n?&gt;</pre><p>重点说下HTTP_HOST&nbsp;和&nbsp;SERVER_NAME&nbsp;的区别。</p><p>\r\n			</p><p>相同点：<br/>当满足以下三个条件时，两者会输出相同信息。<br/>1. 服务器为80端口<br/>2. apache的conf中ServerName设置正确<br/>3. HTTP/1.1协议规范</p><p><br/></p><p>不同点：<br/>1. 通常情况：<br/>_SERVER[&quot;HTTP_HOST&quot;] 在HTTP/1.1协议规范下，会根据客户端的HTTP请求输出信息。<br/>_SERVER[&quot;SERVER_NAME&quot;]\r\n默认情况下直接输出apache的配置文件httpd.conf中的ServerName值。</p><p><br/></p><p>2. 当服务器为非80端口时：<br/>_SERVER[&quot;HTTP_HOST&quot;] 会输出端口号，例如：aaa.com:8080<br/>_SERVER[&quot;SERVER_NAME&quot;] 会直接输出ServerName值<br/>因此在这种情况下，可以理解为：HTTP_HOST = SERVER_NAME : SERVER_PORT</p><p><br/></p><p>3. 当配置文件httpd.conf中的ServerName与HTTP/1.0请求的域名不一致时：<br/>httpd.conf配置如下：<br/>&lt;virtualhost *&gt;<br/>ServerName aaa.com<br/>ServerAlias www.aaa.com<br/>&lt;/virtualhost&gt;<br/>客户端访问域名www.aaa.com<br/>_SERVER[&quot;HTTP_HOST&quot;] 输出 www.aaa.com<br/>_SERVER[&quot;SERVER_NAME&quot;] 输出 aaa.com</p><p>所以，在实际程序中，应尽量使用_SERVER[&quot;HTTP_HOST&quot;] ，比较保险和可靠。</p><p><span style="color: rgb(255, 0, 0);">需要注意的是，端口是可以改变的，前几天工作中就有个网站因为端口改变，而图片路径写入用的是_SERVER[&quot;HTTP_HOST&quot;]，导致图片不能正常显示。</span><br/></p><p>							\r\n		</p>', NULL, 0, 0, 2),
(54, 'php serialize()与unserialize()', 'php', '2016-07-01 03:13:27', '使用serialize()函数和unserialize()函数，一个是进行序列化存储，另一个则是进行序列化恢复。', '<p>今天同事用公司CMS系统开发时，遇到了一个问题------详情页能使用loop，而列表页用loop失败，报错使用非法字段fileurl。（系统loop标签用的是foreach方法）</p><p>然后各自输出了下这个字段，详情页输出数组，列表输出一段字符串，（如下），查看数据库确实是这段字符串，然后百度一下，解释是经过了序列化的，需要使用unserialize序列化恢复成数组。</p><p><img alt="QQ截图20160701110547.png" src="/ueditor/php/upload/image/20160701/1467342569200048.png" title="1467342569200048.png"/></p><p>然后试验一下，完美解决，说实话，之前看到过这段字符串，但一直不知道是什么，也没有深究过。</p><p><br/></p><p>ps：</p><p><span class="function">unserialize()</span>&nbsp; 对单一的已序列化的变量进行操作，将其转换回PHP 的值。\r\n &nbsp; &nbsp;</p><p class="refpurpose"><span class="refname">serialize</span><span class="dc-title">() &nbsp; 产生一个可存储的值的表示。</span></p><p class="refpurpose"><span class="dc-title">使用简单<span class="refname">,直接serialize</span><span class="dc-title">($str)。</span></span></p><p><br/></p>', NULL, 0, 1, 8),
(55, 'jquery中prop()方法和attr()方法的区别浅析', 'js', '2016-07-05 11:39:34', '添加属性名称该属性就会生效应该使用prop();是有true,false两个属性使用prop();其他则使用attr()。', '<p style="text-indent: 2em; text-align: left;">昨天做全选按钮时，使用attr与removeAttr遇到问题，在火狐浏览器，谷歌浏览器，第一次全选时ok，全部选也ok，第二次就失效了。代码如下：</p><pre>&lt;table&nbsp;class=&quot;table&nbsp;table-striped&nbsp;table-bordered&nbsp;table-hover&quot;&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&lt;thead&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&lt;tr&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;th&gt;&lt;input&nbsp;type=&quot;checkbox&quot;&nbsp;class=&quot;c_group&quot;&nbsp;value=&quot;hhh&quot;&nbsp;data-rel=&quot;0&quot;/&gt;&nbsp;全选&lt;/th&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;th&gt;会员&lt;/th&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&lt;/tr&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&lt;/thead&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&lt;volist&nbsp;name=&quot;list&quot;&nbsp;id=&quot;vo&quot;&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;tr&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;td&gt;&lt;input&nbsp;type=&quot;checkbox&quot;&nbsp;name=&quot;y_id[]&quot;&nbsp;&nbsp;class=&quot;checkbox_group&quot;/&gt;&lt;/td&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;td&gt;{$vo.m_login_name}&lt;/td&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/tr&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&lt;/volist&gt;\r\n&lt;/table&gt;\r\n&lt;script&gt;\r\n$(function(){\r\n&nbsp;&nbsp;&nbsp;&nbsp;$(&#39;.c_group&#39;).on(&#39;click&#39;,function(){\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rel&nbsp;=&nbsp;$(this).attr(&#39;data-rel&#39;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//alert(rel)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(rel&nbsp;==&nbsp;0){\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$(this).attr(&#39;data-rel&#39;,1);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$(&#39;.checkbox_group&#39;).attr(&#39;checked&#39;,&#39;checked&#39;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}else{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$(this).attr(&#39;data-rel&#39;,0);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$(&#39;.checkbox_group&#39;).removeAttr(&#39;checked&#39;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;});\r\n});\r\n&lt;/script&gt;</pre><p style="text-indent: 2em; text-align: left;">看了下效果，第二次就不能加checked属性了。</p><p style="text-indent: 2em; text-align: left;">然后看了下同事以前写的，把attr改成prop，完美解决。</p><p><br style="text-indent: 2em; text-align: left;"/></p><p style="text-indent: 2em; text-align: left;">ps：</p><p style="text-indent: 2em; text-align: left;">在jQuery中，<a href="http://www.365mini.com/page/jquery-attr.htm" target="_blank" title="jQuery.attr() 函数详解">attr()</a>函数和<a href="http://www.365mini.com/page/jquery-prop.htm" target="_blank" title="jQuery.prop() 函数详解">prop()</a>函数都用于设置或获取指定的属性，它们的参数和用法也几乎完全相同。</p><p style="text-indent: 2em; text-align: left;">说明：</p><p style="text-indent: 2em; text-align: left;">prop()&nbsp; 获取匹配的元素集中第一个元素的属性（property）值或设置每一个匹配元素的一个或多个属性。</p><p style="text-indent: 2em; text-align: left;">attr()&nbsp; 获取匹配的元素集合中的第一个元素的属性的值或设置每一个匹配元素的一个或多个属性。 <br style="text-indent: 2em; text-align: left;"/></p><p><br style="text-indent: 2em; text-align: left;"/></p><p style="text-indent: 2em; text-align: left;">但不得不说的是，这两个函数的用处却并不相同。下面我们来详细介绍这两个函数之间的区别。</p><h4 style="text-indent: 2em; text-align: left;">1、操作对象不同</h4><p style="text-indent: 2em; text-align: left;">attribute表示HTML文档节点的属性，property表示JS对象的属性。</p><p><br style="text-indent: 2em; text-align: left;"/></p><pre>&lt;!--&nbsp;这里的id、class、data_id均是该元素文档节点的attribute&nbsp;--&gt;\r\n&lt;div&nbsp;id=&quot;message&quot;&nbsp;class=&quot;test&quot;&nbsp;data-id=&quot;123&quot;&gt;&lt;/div&gt;\r\n\r\n&lt;script&nbsp;type=&quot;text/javascript&quot;&gt;\r\n//&nbsp;这里的name、age、url均是obj的property\r\nvar&nbsp;obj&nbsp;=&nbsp;{&nbsp;name:&nbsp;&quot;CodePlayer&quot;,&nbsp;age:&nbsp;18,&nbsp;url:&nbsp;&quot;http://www.365mini.com/&quot;&nbsp;};\r\n&lt;/script&gt;</pre><p style="text-indent: 2em; text-align: left;">在jQuery中，<code>prop()</code>函数的设计目标是用于设置或获取指定DOM元素(指的是JS对象，Element类型)上的属性(property)；<code>attr()</code>函数的设计目标是用于设置或获取指定DOM元素所对应的文档节点上的属性(attribute)。</p><p><br style="text-indent: 2em; text-align: left;"/></p><pre>&lt;!--&nbsp;attr()函数针对的是该文档节点的attribute&nbsp;--&gt;\r\n&lt;div&nbsp;id=&quot;message&quot;&nbsp;class=&quot;test&quot;&nbsp;data_id=&quot;123&quot;&gt;&lt;/div&gt;\r\n\r\n&lt;script&nbsp;type=&quot;text/javascript&quot;&gt;\r\n//&nbsp;prop()函数针对的是该DOM元素(msg)自身的property\r\nvar&nbsp;msg&nbsp;=&nbsp;document.getElementById(&quot;message&quot;);\r\nvar&nbsp;$msg&nbsp;=&nbsp;$(msg);\r\n&lt;/script&gt;</pre><p><br style="text-indent: 2em; text-align: left;"/></p><p style="text-indent: 2em; text-align: left;">当然，在jQuery的底层实现中，函数<code>attr()</code>和<code>prop()</code>的功能都是通过JS原生的Element对象(如上述代码中的<code>msg</code>)实现的。<code>attr()</code>函数主要依赖的是Element对象的<code>getAttribute()</code>和<code>setAttribute()</code>两个方法。<code>prop()</code>函数主要依赖的则是JS中原生的对象属性获取和设置方式。</p><p style="text-indent: 2em; text-align: left;"><br/></p><pre>&lt;div&nbsp;id=&quot;message&quot;&nbsp;class=&quot;test&quot;&nbsp;data_id=&quot;123&quot;&gt;&lt;/div&gt;\r\n&lt;script&nbsp;type=&quot;text/javascript&quot;&gt;\r\nvar&nbsp;msg&nbsp;=&nbsp;document.getElementById(&quot;message&quot;);\r\nvar&nbsp;$msg&nbsp;=&nbsp;$(msg);\r\n\r\n/*&nbsp;attr()依赖的是Element对象的element.getAttribute(&nbsp;attribute&nbsp;)&nbsp;和&nbsp;element.setAttribute(&nbsp;attribute,&nbsp;value&nbsp;)&nbsp;***&nbsp;*/\r\n\r\n//&nbsp;相当于&nbsp;msg.setAttribute(&quot;data_id&quot;,&nbsp;145);\r\n$msg.attr(&quot;data_id&quot;,&nbsp;145);\r\n\r\n//&nbsp;相当于&nbsp;msg.getAttribute(&quot;data_id&quot;);\r\nvar&nbsp;dataId&nbsp;=&nbsp;$msg.attr(&quot;data_id&quot;);&nbsp;//&nbsp;145\r\n\r\n/*&nbsp;prop()依赖的是JS原生的&nbsp;element[property]&nbsp;和&nbsp;element[property]&nbsp;=&nbsp;value;&nbsp;***&nbsp;*/\r\n\r\n//&nbsp;相当于&nbsp;msg[&quot;pid&quot;]&nbsp;=&nbsp;&quot;pid值&quot;;\r\n$msg.prop(&quot;pid&quot;,&nbsp;&quot;pid值&quot;);\r\n\r\n//&nbsp;相当于&nbsp;msg[&quot;pid&quot;];\r\nvar&nbsp;testProp&nbsp;=&nbsp;$msg.prop(&quot;pid&quot;);&nbsp;//&nbsp;pid值\r\n&lt;/script&gt;</pre><p style="text-indent: 2em; text-align: left;">当然，jQuery对这些操作方式进行了封装，使我们操作起来更加方便(比如以对象形式同时设置多个属性)，并且实现了跨浏览器兼容。</p><p style="text-indent: 2em; text-align: left;">此外，虽然<code>prop()</code>针对的是DOM元素的property，而不是元素节点的attribute。不过DOM元素某些属性的更改也会影响到元素节点上对应的属性。例如，property的<code>id</code>对应attribute的<q>id</q>，property的<code>className</code>对应attribute的<q>class</q>。</p><pre>&lt;div&nbsp;id=&quot;message&quot;&nbsp;class=&quot;test&quot;&nbsp;data_id=&quot;123&quot;&gt;&lt;/div&gt;\r\n&lt;script&nbsp;type=&quot;text/javascript&quot;&gt;\r\nvar&nbsp;msg&nbsp;=&nbsp;document.getElementById(&quot;message&quot;);\r\nvar&nbsp;$msg&nbsp;=&nbsp;$(msg);\r\n\r\ndocument.writeln(&nbsp;$msg.attr(&quot;class&quot;)&nbsp;);&nbsp;//&nbsp;test\r\n$msg.prop(&quot;className&quot;,&nbsp;&quot;newTest&quot;);\r\n//&nbsp;修改className(property)导致class(attitude)也随之更改\r\ndocument.writeln(&nbsp;$msg.attr(&quot;class&quot;)&nbsp;);&nbsp;//&nbsp;newTest\r\n&lt;/script&gt;</pre><p style="text-indent: 2em; text-align: left;">&nbsp; 使用范围：（prop只在jquery 1.6+才能使用）</p><p style="text-indent: 2em; text-align: left;"><img alt="QQ截图20160705190557.png" src="/ueditor/php/upload/image/20160705/1467717249392581.png" title="1467717249392581.png"/></p><p><br/></p><br/><pre>&lt;input&nbsp;type=&quot;checkbox&quot;&nbsp;class=&quot;c_group&quot;&nbsp;value=&quot;hhh&quot;&nbsp;data-rel=&quot;0&quot;/&gt;\r\n$(&#39;.c_group&#39;).on(&#39;click&#39;,function(){\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rel&nbsp;=&nbsp;$(this).prop(&#39;checked&#39;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;alert(rel)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rel&nbsp;=&nbsp;$(this).attr(&#39;checked&#39;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;alert(rel)\r\n});</pre><p>点击之后则会出现：true,undefined</p><p><br/></p><p>回到之前的问题，我们这样输出一下，其实发现这些.checkbox_group加入了属性，但浏览器没显示出来，究其原因，我也奇怪，哈哈！</p><p>记住：</p><ul class=" list-paddingleft-2"><li><p>对于HTML元素固有属性，在处理时，使用prop方法。</p></li><li><p>对于HTML元素我们自己自定义的DOM属性，在处理时，使用attr方法。</p></li></ul><p><br/></p>', NULL, 0, 1, 7);
INSERT INTO `article` (`id`, `title`, `type`, `date`, `abstract`, `content`, `pic`, `order`, `is_top`, `click_rate`) VALUES
(56, 'ECharts使用', 'js', '2016-07-08 12:22:57', 'ECharts 提供了常规的折线图，柱状图，散点图，饼图，K线图，用于统计的盒形图，用于地理数据可视化的地图，热力图，线图，用于关系数据可视化的关系图，treemap，多维数据可视化的平行坐标，还有用于 BI 的漏斗图，仪表盘，并且支持图与图之间的混搭。', '<p>最近做项目时，要动态读取数据做成图表，然后听同事提到百度的ECharts，很好用。</p><p>ECharts，一个纯 Javascript 的图表库，可以流畅的运行在 PC 和移动设备上，兼容当前绝大部分浏览器（IE8/9/10/11，Chrome，Firefox，Safari等），底层依赖轻量级的 Canvas 类库 ZRender<a href="https://github.com/ecomfe/zrender" target="_blank"></a>，提供直观，生动，可交互，可高度个性化定制的数据可视化图表。</p><p>ECharts 提供了常规的折线图，柱状图，散点图，饼图，K线图，用于统计的盒形图，用于地理数据可视化的地图，热力图，线图，用于关系数据可视化的关系图，treemap，多维数据可视化的平行坐标，还有用于 BI 的漏斗图，仪表盘，并且支持图与图之间的混搭。</p><p>来看看使用，直接上例子：<br/></p><pre class="brush:html;toolbar:false">&lt;!DOCTYPE&nbsp;html&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n&lt;meta&nbsp;charset=&quot;utf-8&quot;&nbsp;/&gt;\r\n&lt;meta&nbsp;http-equiv=&quot;X-UA-Compatible&quot;&nbsp;content=&quot;IE=EmulateIE7&quot;&nbsp;/&gt;\r\n&lt;title&gt;ECharts&lt;/title&gt;\r\n&lt;/style&gt;\r\n&lt;script&nbsp;src=&quot;echarts.js&quot;&gt;&lt;/script&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;div&nbsp;id=&quot;main&quot;&nbsp;style=&quot;width:&nbsp;600px;height:400px;&quot;&gt;&lt;/div&gt;\r\n&lt;script&nbsp;type=&quot;text/javascript&quot;&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;基于准备好的dom，初始化echarts实例\r\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;myChart&nbsp;=&nbsp;echarts.init(document.getElementById(&#39;main&#39;));\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;指定图表的配置项和数据\r\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;option&nbsp;=&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tooltip:&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;trigger:&nbsp;&#39;axis&#39;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;toolbox:&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;feature:&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataView:&nbsp;{show:&nbsp;true,&nbsp;readOnly:&nbsp;false},\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;magicType:&nbsp;{show:&nbsp;true,&nbsp;type:&nbsp;[&#39;line&#39;,&nbsp;&#39;bar&#39;]},\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;restore:&nbsp;{show:&nbsp;true},\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;saveAsImage:&nbsp;{show:&nbsp;true}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;legend:&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data:[&#39;蒸发量&#39;,&#39;降水量&#39;,&#39;平均温度&#39;]\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xAxis:&nbsp;[\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type:&nbsp;&#39;category&#39;,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data:&nbsp;[&#39;1月&#39;,&#39;2月&#39;,&#39;3月&#39;,&#39;4月&#39;,&#39;5月&#39;,&#39;6月&#39;,&#39;7月&#39;,&#39;8月&#39;,&#39;9月&#39;,&#39;10月&#39;,&#39;11月&#39;,&#39;12月&#39;]\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;],\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yAxis:&nbsp;[\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type:&nbsp;&#39;value&#39;,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name:&nbsp;&#39;水量&#39;,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;min:&nbsp;0,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;max:&nbsp;250,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;interval:&nbsp;50,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;axisLabel:&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;formatter:&nbsp;&#39;{value}&nbsp;ml&#39;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type:&nbsp;&#39;value&#39;,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name:&nbsp;&#39;温度&#39;,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;min:&nbsp;0,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;max:&nbsp;25,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;interval:&nbsp;5,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;axisLabel:&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;formatter:&nbsp;&#39;{value}&nbsp;°C&#39;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;],\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;series:&nbsp;[\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name:&#39;蒸发量&#39;,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type:&#39;bar&#39;,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data:[2.0,&nbsp;4.9,&nbsp;7.0,&nbsp;23.2,&nbsp;25.6,&nbsp;76.7,&nbsp;135.6,&nbsp;162.2,&nbsp;32.6,&nbsp;20.0,&nbsp;6.4,&nbsp;3.3]\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name:&#39;降水量&#39;,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type:&#39;bar&#39;,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data:[2.6,&nbsp;5.9,&nbsp;9.0,&nbsp;26.4,&nbsp;28.7,&nbsp;70.7,&nbsp;175.6,&nbsp;182.2,&nbsp;48.7,&nbsp;18.8,&nbsp;6.0,&nbsp;2.3]\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name:&#39;平均温度&#39;,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type:&#39;line&#39;,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yAxisIndex:&nbsp;1,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data:[2.0,&nbsp;2.2,&nbsp;3.3,&nbsp;4.5,&nbsp;6.3,&nbsp;10.2,&nbsp;20.3,&nbsp;23.4,&nbsp;23.0,&nbsp;16.5,&nbsp;12.0,&nbsp;6.2]\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]\r\n&nbsp;&nbsp;&nbsp;&nbsp;};\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;使用刚指定的配置项和数据显示图表。\r\n&nbsp;&nbsp;&nbsp;&nbsp;myChart.setOption(option);\r\n&lt;/script&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;</pre><p>1.引入echarts.js</p><p>2.加数据</p><p>3.调用</p><p style="text-align: left;">简单吧！</p><p style="text-align:center"><img style="width: 543px; height: 279px;" alt="QQ截图20160801105644.png" src="/ueditor/php/upload/image/20160801/1470020280502086.png" title="1470020280502086.png" height="279" width="543"/></p><p style="text-align: left;">下面看看动态添加数据(php):</p><p style="text-align: left;">先看效果：</p><p style="text-align:center"><img style="width: 496px; height: 274px;" alt="QQ截图20160708200814.png" src="/ueditor/php/upload/image/20160708/1467979750216455.png" title="1467979750216455.png" height="274" width="496"/></p><p style="text-align: left;">三种数据，年份，家数，方量。</p><p style="text-align: center;"><img alt="QQ截图20160708201143.png" src="/ueditor/php/upload/image/20160708/1467979963153868.png" title="1467979963153868.png"/></p><p>输出数据（tp）：</p><pre class="brush:php;toolbar:false">public&nbsp;function&nbsp;szsn(){\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$where[&#39;c_type&#39;]&nbsp;=&nbsp;4;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$c&nbsp;=&nbsp;M(&quot;charts&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//取最近7条数据&nbsp;&nbsp;按升序排列\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$this-&gt;data111&nbsp;=&nbsp;array_reverse($c-&gt;where($where)-&gt;order(&#39;c_year&nbsp;desc&#39;)-&gt;limit(7)-&gt;getField(&#39;c_year&#39;,true));\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$this-&gt;data222&nbsp;=&nbsp;array_reverse($c-&gt;where($where)-&gt;order(&#39;c_year&nbsp;desc&#39;)-&gt;limit(7)-&gt;getField(&#39;c_quota1&#39;,true));\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$this-&gt;data333&nbsp;=&nbsp;array_reverse($c-&gt;where($where)-&gt;order(&#39;c_year&nbsp;desc&#39;)-&gt;limit(7)-&gt;getField(&#39;c_quota2&#39;,true));\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$this-&gt;display();\r\n&nbsp;&nbsp;&nbsp;&nbsp;}</pre><p>前台tpl：</p><pre class="brush:html;toolbar:false">&lt;div&nbsp;id=&quot;chart3&quot;&nbsp;\r\ndata-111=&quot;{:implode(&#39;,&#39;,$data111)}&quot;&nbsp;\r\ndata-222=&quot;{:implode(&#39;,&#39;,$data222)}&quot;&nbsp;\r\ndata-333=&quot;{:implode(&#39;,&#39;,$data333)}&quot;&nbsp;//合并数组为字符串\r\nstyle=&quot;width:&nbsp;530px;height:290px;&quot;&nbsp;\r\nclass=&quot;wd-fl&quot;&gt;\r\n&lt;/div&gt;\r\n&lt;script&nbsp;src=&quot;/Skin/public/echarts/echarts.min.js&quot;&gt;&lt;/script&gt;\r\n&lt;script&nbsp;src=&quot;/Skin/public/echarts/macarons.js&quot;&gt;&lt;/script&gt;&nbsp;&nbsp;//引用主题&nbsp;&nbsp;官网有多种主题\r\n&lt;script&nbsp;type=&quot;text/javascript&quot;&gt;\r\n&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;Chart3&nbsp;=&nbsp;echarts.init(document.getElementById(&#39;chart3&#39;),&#39;macarons&#39;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;data111&nbsp;=&nbsp;$(&#39;#chart3&#39;).attr(&#39;data-111&#39;),\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data222&nbsp;=&nbsp;$(&#39;#chart3&#39;).attr(&#39;data-222&#39;),\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data333&nbsp;=&nbsp;$(&#39;#chart3&#39;).attr(&#39;data-333&#39;),\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arr_data111&nbsp;=&nbsp;data111.split(&quot;,&quot;);//拆分字符串为数组&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arr_data222&nbsp;=&nbsp;data222.split(&quot;,&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arr_data333&nbsp;=&nbsp;data333.split(&quot;,&quot;);\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;option3&nbsp;=&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tooltip:&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;trigger:&nbsp;&#39;axis&#39;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;legend:&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data:[&#39;方量&#39;,&#39;家数&#39;]\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xAxis:&nbsp;[\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type:&nbsp;&#39;category&#39;,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data:&nbsp;arr_data111\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;],\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yAxis:&nbsp;[\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type:&nbsp;&#39;value&#39;,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name:&nbsp;&#39;万方&#39;,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;min:&nbsp;1000,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;max:&nbsp;3000,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;interval:&nbsp;400,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;axisLabel:&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;formatter:&nbsp;&#39;{value}&#39;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type:&nbsp;&#39;value&#39;,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name:&nbsp;&#39;&#39;,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;min:&nbsp;40,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;max:&nbsp;80,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;interval:&nbsp;5,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;axisLabel:&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;formatter:&nbsp;&#39;{value}家&#39;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;],\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;series:&nbsp;[\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name:&#39;方量&#39;,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type:&#39;bar&#39;,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data:arr_data222\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name:&#39;家数&#39;,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type:&#39;line&#39;,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yAxisIndex:&nbsp;1,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data:arr_data333\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;使用刚指定的配置项和数据显示图表。\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Chart3.setOption(option3);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&lt;/script&gt;</pre><p>看懂了吗？是不是很方便，你是不是有更好的idea！<br/></p>', NULL, 0, 0, 11),
(58, 'WebUploader的使用（结合ThinkPHP）', 'js,php', '2016-07-18 03:07:54', 'WebUploader是由Baidu WebFE(FEX)团队开发的一个简单的以HTML5为主，FLASH为辅的现代文件上传组件。在现代的浏览器里面能充分发挥HTML5的优势，同时又不摒弃主流IE浏览器，沿用原来的FLASH运行时，兼容IE6+，iOS 6+, android 4+。两套运行时，同样的调用方式，可供用户任意选用。', '<p>做一个类似社交网站的项目，用到多图上传，然后了解了WebUploader，但第一次使用没有成功，弃之用了swfupload，然后做手机站时，发现如果手机没装flash，这插件用不了，不得不回头，研究用其他的html5+js组件上传，可效果都不如意，自己能力有限，造轮子失败，回头又拾起百度的WebUploader。</p><p>说实话，蛮喜欢百度的团队，之前用过ueditor，baidumap，echarts等，效果都不错，功能也绰绰有余，但WebUploader着实花了我不少时间，但终究还是成功运用了，才发现自己知识有限，走了一圈弯路。</p><p>我用的是ThinkPHP框架，先去github下载最新的WebUploader，主要用到的是dist与examples。api文档什么的，直接点击<a title="webuploader" target="_blank" href="http://fex.baidu.com/webuploader/">webuploader</a>，讲的还蛮详细。</p><p>前台代码：</p><pre class="brush:html;toolbar:false">&lt;div&nbsp;id=&quot;wrapper&quot;&nbsp;style=&quot;display:&nbsp;none;&quot;&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&lt;input&nbsp;type=&quot;hidden&quot;&nbsp;name=&quot;s&quot;&nbsp;id=&quot;photos&quot;/&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;id=&quot;container&quot;&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;!--头部，相册选择和格式选择--&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;id=&quot;uploader&quot;&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;class=&quot;queueList&quot;&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;id=&quot;dndArea&quot;&nbsp;class=&quot;placeholder&quot;&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;id=&quot;filePicker&quot;&gt;&lt;/div&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;p&gt;或将照片拖到这里，单次最多可选9张&lt;/p&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;class=&quot;statusBar&quot;&nbsp;style=&quot;display:none;&quot;&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;class=&quot;progress&quot;&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;span&nbsp;class=&quot;text&quot;&gt;0%&lt;/span&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;span&nbsp;class=&quot;percentage&quot;&gt;&lt;/span&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;!--&lt;div&nbsp;class=&quot;info&quot;&gt;&lt;/div&gt;--&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;class=&quot;btns&quot;&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;id=&quot;filePicker2&quot;&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;uploadBtn&quot;&gt;开始上传&lt;/div&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;\r\n&lt;/div&gt;\r\n&lt;script&nbsp;src=&quot;http://libs.baidu.com/jquery/1.9.0/jquery.js&quot;&gt;&lt;/script&gt;\r\n&lt;script&nbsp;type=&quot;text/javascript&quot;&nbsp;\r\nsrc=&quot;/Skin/public/webuploader/dist/webuploader.js&quot;&gt;&lt;/script&gt;\r\n//webuploader整个放在/Skin/public/目录\r\n&lt;script&nbsp;type=&quot;text/javascript&quot;&nbsp;\r\nsrc=&quot;/Skin/public/webuploader/examples/image-upload/uploader.js&quot;&gt;&lt;/script&gt;</pre><p>uploader.js改动：</p><pre class="brush:js;toolbar:false">//后台处理地址\r\nserver:&nbsp;&#39;{:U(&#39;Wap/Weibo/addImages&#39;)}&#39;,\r\n//限制图片最多上传9张\r\nfileNumLimit:&nbsp;9,\r\n\r\n//将图片地址返回前台，以便后期写入数据库\r\nuploader.on(&nbsp;&#39;uploadSuccess&#39;,&nbsp;function(&nbsp;file&nbsp;,response&nbsp;)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$(&nbsp;&#39;#&#39;+file.id&nbsp;).addClass(&#39;upload-state-done&#39;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//response&nbsp;=&nbsp;JSON.parse(response)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;initVal&nbsp;=&nbsp;$(&#39;#photos&#39;).val();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(initVal&nbsp;==&nbsp;&#39;&#39;){\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$(&#39;#photos&#39;).val(response.info);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}else{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$(&#39;#photos&#39;).val(initVal+&#39;|&#39;+response.info);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});</pre><p>后台</p><pre class="brush:php;toolbar:false">public&nbsp;function&nbsp;addImages(){\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;import(&quot;ORG.Net.UploadFile&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//导入上传类\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$upload&nbsp;=&nbsp;new&nbsp;UploadFile();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$upload-&gt;maxSize&nbsp;&nbsp;=&nbsp;51200000;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$upload-&gt;allowExts&nbsp;&nbsp;=&nbsp;array(&#39;jpg&#39;,&nbsp;&#39;jpeg&#39;,&nbsp;&#39;png&#39;,&nbsp;&#39;gif&#39;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$upload-&gt;savePath&nbsp;=&nbsp;&nbsp;&#39;./Upload/weibo/&#39;;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$upload-&gt;saveRule&nbsp;=&nbsp;&nbsp;&#39;uniqid&#39;;&nbsp;\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!$upload-&gt;upload())&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//捕获上传异常\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$this-&gt;error($upload-&gt;getErrorMsg(),&#39;&#39;,3);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//取得成功上传的文件信息\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$uploadList&nbsp;=&nbsp;$upload-&gt;getUploadFileInfo();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$s&nbsp;=&nbsp;&#39;&#39;;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for($i=0;$i&lt;count($uploadList);$i++){\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//限制图片数量\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if($i&nbsp;&gt;&nbsp;8){\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}else{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$s&nbsp;.=&nbsp;&#39;/Upload/weibo/&#39;.$uploadList[$i][&#39;savename&#39;];\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$arr[&#39;info&#39;]&nbsp;=&nbsp;$s;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//也可用ajaxReturn，我个人习惯这样写echo\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;json_encode($arr);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;}</pre><p>然后就ok了，样式我就不说了，自己调成需要的样子。</p><p>是不是很好用呢？<br/></p>', NULL, 0, 1, 11),
(59, 'ThinkPHP 分页样式', 'php', '2016-08-01 02:55:10', '通常在数据查询后都会对数据进行分页操作，ThinkPHP也提供了分页类来对数据分页提供支持。', '<p>分页模块代码位置：<span style="color: rgb(0, 0, 0); font-family: 微软雅黑; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 21px; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); display: inline !important; float: none;">/ThinkPHP/Extend/Library/ORG/Util/page.class.php</span>。</p><p>如有需要，可自行修改，一般来说，不用修改，可以在Action中设置样式。setConfig可以修改主题样式，rollPage可以限制页码显示数量。<br/></p><p>上实例：（会员列表分页）</p><pre class="brush:php;toolbar:false">public&nbsp;function&nbsp;memberList(){\r\n&nbsp;&nbsp;&nbsp;&nbsp;$m&nbsp;=&nbsp;M(&quot;member&quot;);\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;import(&#39;ORG.Util.Page&#39;);&nbsp;\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;$count&nbsp;=&nbsp;$m-&gt;where(&#39;status&nbsp;=&nbsp;1&#39;)-&gt;count();&nbsp;//查询出总条数\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;$page=new&nbsp;Page($count,10);&nbsp;\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;$show&nbsp;=&nbsp;$Page-&gt;show();\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;$Page-&gt;rollPage&nbsp;=&nbsp;4;&nbsp;//页码显示数量\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;$page-&gt;setConfig(&#39;header&#39;,&#39;个会员&#39;);&nbsp;&nbsp;\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;$page-&gt;setConfig(&#39;prev&#39;,&#39;上一页&#39;);\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;$page-&gt;setConfig(&#39;next&#39;,&#39;下一页&#39;);\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;$page-&gt;setConfig(&#39;first&#39;,&#39;首页&#39;);\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;$page-&gt;setConfig(&#39;last&#39;,&#39;尾页&#39;);\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;$page-&gt;setConfig(&#39;theme&#39;,&quot;&lt;span&gt;共%totalRow%%header%&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;%nowPage%/%totalPage%&nbsp;页&nbsp;%first%&nbsp;%prePage%&nbsp;%upPage%&nbsp;%linkPage%&nbsp;%downPage%\r\n&nbsp;&nbsp;&nbsp;&nbsp;%nextPage%&nbsp;%end%&lt;/span&gt;&quot;);&nbsp;&nbsp;//主题样式\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;$list&nbsp;=&nbsp;$m-&gt;where(&#39;status&nbsp;=&nbsp;1&#39;)-&gt;order(&#39;insert_time&nbsp;DESC&#39;)-&gt;\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;limit($Page-&gt;firstRow.&#39;,&#39;.$Page-&gt;listRows)-&gt;select();\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;$this-&gt;assign(&#39;list&#39;,$list);\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;$this-&gt;assign(&#39;page&#39;,$show);\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;$this-&gt;display();&nbsp;\r\n\r\n}</pre><p>样式啥的就不说了，都是CSS修改。<br/></p>', NULL, 0, 0, 7),
(60, '表单中submit提交失败的问题', 'js', '2016-08-02 12:05:41', '表单及其子元素不宜用一个表单的属性作为name或id的名称，如submit, length, or method，名称冲突可能会导致令人困惑的失败。对于一个完整的规则列表，检查你的标签对于这些问题，查看DOMLint。。', '<p>昨天开发时遇到个表单不能提交的问题，反复检查代码似乎都毫无问题，不得不寻找答案，发现了jquery的这个问题。</p><p>主要代码如下：</p><pre class="brush:html;toolbar:false">&lt;form&nbsp;role=&quot;form&quot;&nbsp;action=&quot;&quot;&nbsp;method=&quot;post&quot;&nbsp;onsubmit=&quot;return&nbsp;jQuery(this).validationEngine(&#39;validate&#39;);&quot;&nbsp;id=&quot;form&quot;&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;class=&quot;box-body&quot;&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;class=&quot;form-group&quot;&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;label&nbsp;for=&quot;m_login_name&quot;&gt;购买备注&lt;/label&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;input&nbsp;type=&quot;text&quot;&nbsp;name=&quot;q_remark&quot;&nbsp;class=&quot;validate[required,maxSize[200]]&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;form-control&quot;&nbsp;placeholder=&quot;请填写购买备注&quot;&nbsp;data-prompt-position=&quot;topLeft&quot;&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;class=&quot;box-footer&quot;&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;button&nbsp;type=&quot;button&quot;&nbsp;class=&quot;btn&nbsp;btn-primary&quot;&nbsp;id=&quot;submit&quot;&nbsp;&gt;立即购买&lt;/button&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;\r\n&nbsp;&lt;/form&gt;\r\n&nbsp;&lt;script&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;$(function(){\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$(&quot;#submit&quot;).on(&#39;click&#39;,function(){\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;obj&nbsp;=&nbsp;$(this);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;conload&nbsp;=&nbsp;layer.confirm(&#39;确定购买吗？&#39;,&nbsp;function(){\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;layer.close(conload);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$(&#39;#form&#39;).submit();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;})\r\n&nbsp;&nbsp;&nbsp;&nbsp;})\r\n&lt;/script&gt;\r\n&lt;script&nbsp;src=&quot;/webui/adminlte/plugins/jQuery/jQuery-2.2.0.min.js&quot;&gt;&lt;/script&gt;\r\n&lt;script&nbsp;type=&quot;text/javascript&quot;&nbsp;src=&quot;/Skin/public/layer/layer.min.js&quot;&gt;&lt;/script&gt;</pre><p>然后搜到同样的问题，贴上jquery&nbsp; api上的说明：<br/></p><p>Additional Notes:<br/><span style="font-family: times new roman;"><em>Forms and their child elements should not use input names or ids that \r\nconflict with properties of a form, such as submit, length, or method. \r\nName conflicts can cause confusing failures. For a complete list of \r\nrules and to check your markup for these problems,\r\n see DOMLint.</em></span></p><p>翻译如下：</p><p>表单及其子元素不应使用与表单作为name或id的名称，如submit, length, or method,名称冲突可能会导致令人困惑的失败。对于一个完整的规则列表，检查你的标签对于这些问题，查看DOMLint。</p><p><br/></p><p>因而吧button的id改成tijiao，</p><pre class="brush:html;toolbar:false">&lt;form&nbsp;role=&quot;form&quot;&nbsp;action=&quot;&quot;&nbsp;method=&quot;post&quot;&nbsp;onsubmit=&quot;return&nbsp;jQuery(this).validationEngine(&#39;validate&#39;);&quot;&nbsp;id=&quot;form&quot;&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;class=&quot;box-body&quot;&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;class=&quot;form-group&quot;&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;label&nbsp;for=&quot;m_login_name&quot;&gt;购买备注&lt;/label&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;input&nbsp;type=&quot;text&quot;&nbsp;name=&quot;q_remark&quot;&nbsp;class=&quot;validate[required,maxSize[200]]&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;form-control&quot;&nbsp;placeholder=&quot;请填写购买备注&quot;&nbsp;data-prompt-position=&quot;topLeft&quot;&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;class=&quot;box-footer&quot;&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;button&nbsp;type=&quot;button&quot;&nbsp;class=&quot;btn&nbsp;btn-primary&quot;&nbsp;id=&quot;tijiao&quot;&nbsp;&gt;立即购买&lt;/button&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;\r\n&nbsp;&lt;/form&gt;\r\n&nbsp;&lt;script&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;$(function(){\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$(&quot;#tijiao&quot;).on(&#39;click&#39;,function(){\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;obj&nbsp;=&nbsp;$(this);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;conload&nbsp;=&nbsp;layer.confirm(&#39;确定购买吗？&#39;,&nbsp;function(){\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;layer.close(conload);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$(&#39;#form&#39;).submit();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;})\r\n&nbsp;&nbsp;&nbsp;&nbsp;})\r\n&lt;/script&gt;\r\n&lt;script&nbsp;src=&quot;/webui/adminlte/plugins/jQuery/jQuery-2.2.0.min.js&quot;&gt;&lt;/script&gt;\r\n&lt;script&nbsp;type=&quot;text/javascript&quot;&nbsp;src=&quot;/Skin/public/layer/layer.min.js&quot;&gt;&lt;/script&gt;</pre><p>成功提交表单，so amazing！</p><p>以后务必要注意这一点啦！<br/></p>', NULL, 0, 1, 11),
(61, 'jQuery判断checkbox是否选中的方法', 'js', '2016-08-03 06:59:35', '有效方法有两种', '<p style="white-space: normal; widows: auto; background-color: rgb(255, 255, 255);">需要做一个必须勾选协议才能购买的表单，往往要判断是否勾选checkbox，之前遇到过，但没有好好解决，这次又遇到，边彻底解决这个问题。</p><p style="white-space: normal; widows: auto; background-color: rgb(255, 255, 255);">其实这个问题的核心是获取checked属性的问题并加以判断，网上文章很多，大致方法有三：</p><pre style="font-family: Monaco, Consolas, Courier, &#39;Lucida Console&#39;, monospace; widows: auto;">&lt;form&nbsp;role=&quot;form&quot;&nbsp;action=&quot;&quot;&nbsp;method=&quot;post&quot;&nbsp;onsubmit=&quot;return&nbsp;jQuery(this).validationEngine(&#39;validate&#39;);&quot;&nbsp;id=&quot;form&quot;&gt;\r\n&nbsp;&nbsp;&lt;div&nbsp;class=&quot;box-body&quot;&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;class=&quot;form-group&quot;&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;label&nbsp;for=&quot;m_login_name&quot;&gt;购买数量&lt;/label&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;input&nbsp;type=&quot;text&quot;&nbsp;name=&quot;d_number&quot;&nbsp;class=&quot;validate[required,maxSize[10],custom[number]]&nbsp;form-control&quot;&nbsp;placeholder=&quot;请填写数字,单位：个&quot;&nbsp;data-prompt-position=&quot;topLeft&quot;&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;class=&quot;form-group&quot;&nbsp;style=&quot;height:&nbsp;100px;&nbsp;overflow-x:&nbsp;hidden;&nbsp;overflow-y:&nbsp;scroll;&nbsp;border:&nbsp;1px&nbsp;solid&nbsp;#d2d6de;;&quot;&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;协议内容\r\n&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;class=&quot;form-group&quot;&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;input&nbsp;type=&quot;checkbox&quot;&nbsp;id=&quot;check&quot;&nbsp;checked/&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;label&nbsp;for=&quot;m_login_name&quot;&gt;我同意《协议》&lt;/label&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;class=&quot;box-footer&quot;&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;button&nbsp;type=&quot;button&quot;&nbsp;class=&quot;btn&nbsp;btn-primary&quot;&nbsp;id=&quot;buy&quot;&gt;立即购买&lt;/button&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;\r\n&nbsp;&nbsp;&lt;/div&gt;\r\n&lt;/form&gt;</pre><pre style="font-family: Monaco, Consolas, Courier, &#39;Lucida Console&#39;, monospace; widows: auto;">第一种is(&#39;:checked&#39;)\r\n&lt;script&nbsp;type=&quot;text/javascript&quot;&gt;\r\n;$(function(){\r\n&nbsp;&nbsp;&nbsp;&nbsp;$(&#39;#buy&#39;).on(&#39;click&#39;,function(){\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;isCheck&nbsp;=&nbsp;$(&#39;#check&#39;).is(&#39;:checked&#39;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;alert（isCheck&nbsp;）\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;});\r\n})\r\n&lt;/script&gt;</pre><pre style="font-family: Monaco, Consolas, Courier, &#39;Lucida Console&#39;, monospace; widows: auto;">第二种attr(&#39;checked&#39;)\r\n&lt;script&nbsp;type=&quot;text/javascript&quot;&gt;\r\n;$(function(){\r\n&nbsp;&nbsp;&nbsp;&nbsp;$(&#39;#buy&#39;).on(&#39;click&#39;,function(){\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;isCheck&nbsp;=&nbsp;$(&#39;#check&#39;).attr(&#39;checked&#39;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;alert（isCheck&nbsp;）\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;});\r\n})\r\n&lt;/script&gt;</pre><pre style="font-family: Monaco, Consolas, Courier, &#39;Lucida Console&#39;, monospace; widows: auto;">第三种checked\r\n&lt;script&nbsp;type=&quot;text/javascript&quot;&gt;\r\n;$(function(){\r\n&nbsp;&nbsp;&nbsp;&nbsp;$(&#39;#buy&#39;).on(&#39;click&#39;,function(){\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;isCheck&nbsp;=&nbsp;$(&#39;#check&#39;).checked;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;alert（isCheck&nbsp;）\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;});\r\n})\r\n&lt;/script&gt;</pre><p style="white-space: normal; widows: auto; background-color: rgb(255, 255, 255);">亲测（firefox，chrome），仅有is(&#39;:checked&#39;)成功获取，选中则true，未选中则为false。</p><p style="white-space: normal; widows: auto; background-color: rgb(255, 255, 255);">attr会根据初始值，若初始值选中就是checked，否则undefined，点击选择时不会变化值。</p><p style="white-space: normal; widows: auto; background-color: rgb(255, 255, 255);">checked则一直都是undefined。</p><p style="white-space: normal; widows: auto; background-color: rgb(255, 255, 255);"><br style="background-color: inherit;"/></p><p style="white-space: normal; widows: auto; background-color: rgb(255, 255, 255);">然后想到上次用到的prop，替换掉attr，成功获取，选中则true，未选中则为false。</p><p style="white-space: normal; widows: auto; background-color: rgb(255, 255, 255);">结语：获取checkbox请使用prop(&#39;checked&#39;)或is(&#39;:checked&#39;)，那什么都是骗人的。</p><p><br/></p>', NULL, 0, 1, 18),
(62, '判断是否为微信内置浏览器', 'js,php', '2016-08-05 08:07:20', '获取微信内置浏览器的User Agent，并加以判断。', '<p>原理：获取微信内置浏览器的User Agent，并加以判断。</p><p>直接上代码：</p><p>js：</p><pre class="brush:js;toolbar:false">function&nbsp;isWeiXin(){\r\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;ua&nbsp;=&nbsp;window.navigator.userAgent.toLowerCase();\r\n&nbsp;&nbsp;&nbsp;&nbsp;//var&nbsp;ua&nbsp;=&nbsp;navigator.userAgent.toLowerCase();&nbsp;二选一\r\n&nbsp;&nbsp;&nbsp;&nbsp;if(ua.match(/MicroMessenger/i)&nbsp;==&nbsp;&#39;micromessenger&#39;){\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;alert(1);\r\n&nbsp;&nbsp;&nbsp;&nbsp;}else{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;alert(0);\r\n}</pre><p>php</p><pre class="brush:php;toolbar:false">function&nbsp;isWeixin(){&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(&nbsp;strpos($_SERVER[&#39;HTTP_USER_AGENT&#39;],&nbsp;&#39;MicroMessenger&#39;)&nbsp;!==&nbsp;false&nbsp;)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;true;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}else{\r\n	return&nbsp;false;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n}</pre><p><br/></p>', NULL, 0, 0, 8);
INSERT INTO `article` (`id`, `title`, `type`, `date`, `abstract`, `content`, `pic`, `order`, `is_top`, `click_rate`) VALUES
(63, 'js获取select的值', 'js', '2016-08-09 12:14:18', '获取selectedIndex属性', '<p>最近做一个手机项目时，遇到一个问题。</p><p>选分类时需要根据不同类型，改变字段。之前加的是点击事件控制显隐，火狐反应正常，但手机上没有效果。不得不抛弃这种写法，改为获取select选中option值判断，来控制字段显隐。</p><p>点击控制的代码就不写了，比较简单，贴上获取select方法代码：<br/></p><pre class="brush:html;toolbar:false">&lt;!--&nbsp;主体&nbsp;--&gt;\r\n&lt;div&nbsp;class=&quot;am-container&nbsp;am-margin-top&nbsp;reg&quot;&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;class=&quot;am-tabs-bd&nbsp;sai-noborder&nbsp;am-margin-top&quot;&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;class=&quot;am-tab-panel&nbsp;sai-nopadding&nbsp;am-active&quot;&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;form&nbsp;method=&quot;post&quot;&nbsp;action=&quot;{:U(&#39;Wap/Index/reg2&#39;)}&quot;&nbsp;enctype=&quot;multipart/form-data&quot;&nbsp;&nbsp;id=&quot;form2&quot;&nbsp;class=&quot;am-form&nbsp;am-form-horizontal&quot;&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;class=&quot;am-form-group&quot;&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;class=&quot;reg-tab-li&nbsp;am-g&quot;&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;label&nbsp;class=&quot;am-u-md-3&quot;&gt;团体名称：&lt;/label&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;class=&quot;am-u-md-9&quot;&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;input&nbsp;type=&quot;text&quot;&nbsp;name=&quot;o_name&quot;&nbsp;class=&quot;login-text&nbsp;yan-tt&nbsp;nick&quot;&nbsp;placeholder=&quot;请输入团体名称&quot;&gt;&lt;span&gt;&lt;/span&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;class=&quot;reg-tab-li&nbsp;am-g&quot;&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;label&nbsp;class=&quot;am-u-md-3&quot;&gt;类型：&lt;/label&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;class=&quot;am-u-md-9&quot;&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;select&nbsp;name=&quot;o_type&quot;&nbsp;id=&quot;select&quot;&nbsp;onchange=&quot;getValue()&quot;&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;volist&nbsp;name=&quot;list_jigou&quot;&nbsp;id=&quot;vo&quot;&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;option&nbsp;value=&quot;{$vo[&#39;d_value&#39;]}&quot;&nbsp;&lt;if&nbsp;condition=&quot;$i&nbsp;neq&nbsp;4&quot;&gt;class=&quot;dd&quot;&nbsp;&lt;else/&gt;&nbsp;class=&quot;dd2&quot;&lt;/if&gt;&gt;{$vo[&#39;d_title&#39;]}&lt;/option&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/volist&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/select&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;class=&quot;daima2&quot;&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;class=&quot;reg-tab-li&nbsp;am-g&quot;&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;label&nbsp;class=&quot;am-u-md-3&quot;&gt;证件号码：&lt;/label&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;class=&quot;am-u-md-9&quot;&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;input&nbsp;type=&quot;text&quot;&nbsp;name=&quot;o_yingyezhizhao_no&quot;&nbsp;class=&quot;login-text&nbsp;yan-zhzh&quot;&nbsp;placeholder=&quot;请输入等级证书/营业执照等相关证件号码&quot;&gt;&lt;span&gt;&lt;/span&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;class=&quot;reg-tab-li&nbsp;am-g&quot;&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;label&nbsp;class=&quot;am-u-md-3&quot;&gt;上传扫描件：&lt;/label&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;class=&quot;am-u-md-9&quot;&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;input&nbsp;type=&quot;file&quot;&nbsp;name=&quot;o_yingyezhizhao_img&nbsp;yan-required&quot;&nbsp;value=&quot;&quot;/&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;class=&quot;daima&nbsp;sai-hide&quot;&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;class=&quot;reg-tab-li&nbsp;am-g&quot;&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;label&nbsp;class=&quot;am-u-md-3&quot;&gt;团体简介：&lt;/label&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;class=&quot;am-u-md-9&quot;&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;textarea&nbsp;name=&quot;o_desc&quot;&nbsp;rows=&quot;5&quot;&nbsp;class=&quot;yan-desc&quot;&nbsp;placeholder=&quot;请简单介绍下您所在的团体，不超过200字！&quot;&gt;&lt;/textarea&gt;&lt;span&gt;&lt;/span&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;class=&quot;reg-tab-li&nbsp;am-g&quot;&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;label&nbsp;class=&quot;am-u-md-3&quot;&gt;创建密码：&lt;/label&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;class=&quot;am-u-md-9&quot;&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;input&nbsp;type=&quot;password&quot;&nbsp;name=&quot;o_password&quot;&nbsp;class=&quot;login-text&nbsp;yan-pw&quot;&nbsp;placeholder=&quot;请输入密码&quot;&gt;&lt;span&gt;&lt;/span&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;class=&quot;reg-tab-li&nbsp;am-g&quot;&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;label&nbsp;class=&quot;am-u-md-3&quot;&gt;确认密码：&lt;/label&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;class=&quot;am-u-md-9&quot;&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;input&nbsp;type=&quot;password&quot;&nbsp;name=&quot;o_password2&quot;&nbsp;class=&quot;login-text&nbsp;yan-pw2&quot;&nbsp;placeholder=&quot;请再次输入密码&quot;&gt;&lt;span&gt;&lt;/span&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;class=&quot;wd-h15&nbsp;wd-clear&quot;&gt;&lt;/div&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;class=&quot;reg-tab-li&nbsp;am-g&nbsp;reg-tab-li&nbsp;am-g2&nbsp;am-margin-top&quot;&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;button&nbsp;type=&quot;button&quot;&nbsp;class=&quot;l-btn&nbsp;btn2&nbsp;am-btn&nbsp;am-btn-block&nbsp;sai-bred&quot;&nbsp;onclick=&quot;sub2();&quot;&gt;注册&lt;/button&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;class=&quot;reg-tab-li&nbsp;am-g&nbsp;reg-tab-li&nbsp;am-g2&quot;&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;a&nbsp;class=&quot;wd-fs12&nbsp;xieyi&quot;&nbsp;target=&quot;_blank&quot;&nbsp;href=&quot;{:U(&#39;Wap/Index/page&#39;,array(&#39;column_id&#39;=&gt;8))}&quot;&gt;注册代表你同意&lt;em&gt;《爱德国际仁谷注册协议》&lt;/em&gt;&lt;/a&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/form&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;script&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;;function&nbsp;getValue(){\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*第一种方法\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;val=&nbsp;$(&quot;#select&nbsp;option:selected&quot;).val();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;val=&nbsp;$(&#39;#select&#39;).find(&quot;option:selected&quot;).val();*/\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*第二种方法\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;obj=&nbsp;document.getElementById(&#39;select&#39;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;val&nbsp;=&nbsp;obj.selectedIndex;*/\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;obj=&nbsp;document.getElementById(&#39;select&#39;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;val&nbsp;=&nbsp;obj.options[obj.options.selectedIndex].value;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(val&nbsp;==&nbsp;3){\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$(&#39;.daima2&#39;).hide();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$(&#39;.daima&#39;).show();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}else{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$(&#39;.daima&#39;).hide();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$(&#39;.daima2&#39;).show();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n};\r\n&lt;/script&gt;</pre><p><br/></p><p>当然注释的两种方法也是可行的，粗粗测试下，火狐也兼容。</p><p>是不是很好用？<br/></p>', NULL, 0, 0, 4),
(64, 'MySQL数据类型和常用字段属性', 'sql', '2016-08-10 08:14:07', 'MySQL中的数据类型可以分为：日期和时间、数值，以及字符串。', '<p class="p1"><span class="s1"></span></p><p>一直以为int(11)就可以存储11位的数字，原来这是不正确的。网上搜搜，总结如下：</p><p><br/></p>MySQL中的数据类型大的方面来分，可以分为：日期和时间、数值，以及字符串。<p><span style="font-weight:bold">日期和时间数据类型</span></p><p><br/></p><table cellpadding="0" cellspacing="0" width="593"><tbody><tr class="firstRow"><td style="word-wrap: break-word; vertical-align: middle; white-space: normal;" height="32" width="99">MySQL数据类型</td><td style="word-wrap: break-word; vertical-align: middle; white-space: normal;" height="32" width="494">含义</td></tr><tr><td style="word-wrap: break-word; vertical-align: middle; white-space: normal;" height="32" width="99">date</td><td style="word-wrap: break-word; vertical-align: middle; white-space: normal;" height="32" width="494">3字节，日期，格式：2014-09-18</td></tr><tr><td style="word-wrap: break-word; vertical-align: middle; white-space: normal;" height="32" width="99">time</td><td style="word-wrap: break-word; vertical-align: middle; white-space: normal;" height="32" width="494">3字节，时间，格式：08:42:30</td></tr><tr><td style="word-wrap: break-word; vertical-align: middle; white-space: normal;" height="32" width="99">datetime</td><td style="word-wrap: break-word; vertical-align: middle; white-space: normal;" height="32" width="494">8字节，日期时间，格式：2014-09-18 08:42:30</td></tr><tr><td style="word-wrap: break-word; vertical-align: middle; white-space: normal;" height="32" width="99">timestamp</td><td style="word-wrap: break-word; vertical-align: middle; white-space: normal;" height="32" width="494">4字节，时间戳，格式：2014-09-18 08:42:30</td></tr><tr><td style="word-wrap: break-word; vertical-align: middle; white-space: normal;" height="32" width="99">year</td><td style="word-wrap: break-word; vertical-align: middle; white-space: normal;" height="32" width="494">1字节，年份</td></tr></tbody></table><p><br/></p><p><span style="font-weight:bold">数值数据类型</span></p><p><span style="font-weight:bold">整型</span></p><table cellpadding="0" cellspacing="0" width="597"><tbody><tr class="firstRow"><td style="word-wrap: break-word; vertical-align: middle; white-space: normal;" height="32" width="107">MySQL数据类型</td><td style="word-wrap: break-word; vertical-align: middle; white-space: normal;" height="32" width="490">含义（有符号）</td></tr><tr><td style="word-wrap: break-word; vertical-align: middle; white-space: normal;" height="32" width="107">tinyint</td><td style="word-wrap: break-word; vertical-align: middle; white-space: normal;" height="32" width="490">1字节，范围（-128~127）一直误会了</td></tr><tr><td style="word-wrap: break-word; vertical-align: middle; white-space: normal;" height="32" width="107">smallint</td><td style="word-wrap: break-word; vertical-align: middle; white-space: normal;" height="32" width="490">2字节，范围（-32768~32767）</td></tr><tr><td style="word-wrap: break-word; vertical-align: middle; white-space: normal;" height="32" width="107">mediumint</td><td style="word-wrap: break-word; vertical-align: middle; white-space: normal;" height="32" width="490">3字节，范围（-8388608~8388607）</td></tr><tr><td style="word-wrap: break-word; vertical-align: middle; white-space: normal;" height="32" width="107">int</td><td style="word-wrap: break-word; vertical-align: middle; white-space: normal;" height="32" width="490">4字节，范围（-2147483648~2147483647）</td></tr><tr><td style="word-wrap: break-word; vertical-align: middle; white-space: normal;" height="32" width="107">bigint</td><td style="word-wrap: break-word; vertical-align: middle; white-space: normal;" height="32" width="490">8字节，范围（+-9.22*10的18次方）</td></tr></tbody></table><p>上面定义的都是有符号的，当然了，也可以加上unsigned关键字，定义成无符号的类型，那么对应的取值范围就要翻翻了，</p><p>比如：</p><p>tinyint unsigned的取值范围为0~255。</p><p><span style="font-weight:bold">浮点型</span></p><table cellpadding="0" cellspacing="0" width="598"><tbody><tr class="firstRow"><td style="word-wrap: break-word; vertical-align: middle; white-space: normal;" height="32" width="112">MySQL数据类型</td><td style="word-wrap: break-word; vertical-align: middle; white-space: normal;" height="32" width="486">含义</td></tr><tr><td style="word-wrap: break-word; vertical-align: middle; white-space: normal;" height="32" width="112">float(m, d)</td><td style="word-wrap: break-word; vertical-align: middle; white-space: normal;" height="32" width="486">4字节，单精度浮点型，m总个数，d小数位</td></tr><tr><td style="word-wrap: break-word; vertical-align: middle; white-space: normal;" height="32" width="112">double(m, d)</td><td style="word-wrap: break-word; vertical-align: middle; white-space: normal;" height="32" width="486">8字节，双精度浮点型，m总个数，d小数位</td></tr><tr><td style="word-wrap: break-word; vertical-align: middle; white-space: normal;" height="32" width="112">decimal(m, d)</td><td style="word-wrap: break-word; vertical-align: middle; white-space: normal;" height="32" width="486">decimal是存储为字符串的浮点数</td></tr></tbody></table><p>我在MySQL中建立了一个表，有一列为float(5, 3)；做了以下试验：</p><p>1.插入123.45678，最后查询得到的结果为99.999；</p><p>2.插入123.456，最后查询结果为99.999；</p><p>3.插入12.34567，最后查询结果为12.346；</p><p>所以，在使用浮点型的时候，还是要注意陷阱的，要以插入数据库中的实际结果为准。</p><p><br/></p><p><span style="font-weight:bold">字符串数据类型</span></p><table cellpadding="0" cellspacing="0" width="613"><tbody><tr class="firstRow"><td style="word-wrap: break-word; vertical-align: middle; white-space: normal;" height="32" width="119">MySQL数据类型</td><td style="word-wrap: break-word; vertical-align: middle; white-space: normal;" height="32" width="494">含义</td></tr><tr><td style="word-wrap: break-word; vertical-align: middle; white-space: normal;" height="32" width="119">char(n)</td><td style="word-wrap: break-word; vertical-align: middle; white-space: normal;" height="32" width="494">固定长度，最多255个字符</td></tr><tr><td style="word-wrap: break-word; vertical-align: middle; white-space: normal;" height="32" width="119">varchar(n)</td><td style="word-wrap: break-word; vertical-align: middle; white-space: normal;" height="32" width="494">可变长度，最多65535个字符</td></tr><tr><td style="word-wrap: break-word; vertical-align: middle; white-space: normal;" height="32" width="119">tinytext</td><td style="word-wrap: break-word; vertical-align: middle; white-space: normal;" height="32" width="494">可变长度，最多255个字符</td></tr><tr><td style="word-wrap: break-word; vertical-align: middle; white-space: normal;" height="32" width="119">text</td><td style="word-wrap: break-word; vertical-align: middle; white-space: normal;" height="32" width="494">可变长度，最多65535个字符</td></tr><tr><td style="word-wrap: break-word; vertical-align: middle; white-space: normal;" height="32" width="119">mediumtext</td><td style="word-wrap: break-word; vertical-align: middle; white-space: normal;" height="32" width="494">可变长度，最多2的24次方-1个字符</td></tr><tr><td style="word-wrap: break-word; vertical-align: middle; white-space: normal;" height="32" width="119">longtext</td><td style="word-wrap: break-word; vertical-align: middle; white-space: normal;" height="32" width="494">可变长度，最多2的32次方-1个字符</td></tr></tbody></table><p>1.char（n）和varchar（n）中括号中n代表字符的个数，并不代表字节个数，所以当使用了中文的时候(UTF8)意味着可以插入m个中文，但是实际会占用m*3个字节。</p><p>2.同时char和varchar最大的区别就在于char不管实际value都会占用n个字符的空间，而varchar只会占用实际字符应该占用的空间+1，并且实际空间+1&lt;=n。</p><p>3.超过char和varchar的n设置后，字符串会被截断。</p><p>4.char的上限为255字节，varchar的上限65535字节，text的上限为65535。</p><p>5.char在存储的时候会截断尾部的空格，varchar和text不会。</p><p>6.varchar会使用1-3个字节来存储长度，text不会。</p><p><br/></p><p class="p1"><span class="s1"></span></p><p><strong>选择原则：</strong><br/></p><p class="p1"><span class="s1">1、通常最小的是最好的</span></p><p class="p1"><span class="s1">&nbsp; &nbsp; &nbsp;因为这样可以用更少的磁盘、内容、CPU缓存，大大减少IO开销，当然前提是满足业务需要。</span></p><p class="p1"><span class="s1">2、简单就好</span></p><p class="p1"><span class="s1">&nbsp; &nbsp; &nbsp;简单的数据类型操作通常需要更少的CPU周期。例如，整型比字符操作代价更小，因为字符集和校对规则（排序规则）使它比整型更复杂。比如应该使用MySQL内建的类型而不是使用字符型来存储日期和时间。</span></p><p class="p1"><span class="s1">3、尽量避免使用NULL</span></p><p class="p1"><span class="s1">&nbsp; &nbsp; &nbsp;NULL是列默认的属性，通常我们要指定为NOT \r\nNULL。有NULL的列值会使得索引、索引统计和值比较更加复杂。可为NULL的列会使用更多的存储空间，在MySQL中也需要对它进行特殊处理，当可\r\n为NULL列做索引时，每个索引需要一个额外的字节，在MyISAM更有可能导致固定大小的索引变成可变大小索引，在InnoDB中使用单独的位\r\n(bit)存储NULL值。</span></p><p class="p1"><span class="s1"><br/></span></p><p class="p1"><span class="s1">就这些了，大部分网上贴过来的。<br/></span><br/></p>', NULL, 0, 1, 8),
(66, 'PHP的数据类型转换', 'php', '2016-09-02 12:05:27', 'php作为一种弱类型语言，开发中会遇到类型转换的问题。', '<p>PHP的数据类型转换属于强制转换，允许转换的PHP数据类型有：</p><p>•（int）、（integer）：转换成整形 <br/>•（float）、（double）、（real）：转换成浮点型 <br/>•（string）：转换成字符串 <br/>•（bool）、（boolean）：转换成布尔类型 <br/>•（array）：转换成数组 <br/>•（object）：转换成对象 <br/></p><p>PHP数据类型有三种转换方式：</p><p>1.在要转换的变量之前加上用括号括起来的目标类型 <br/>2.使用3个具体类型的转换函数，intval()、floatval()、strval() <br/>3.使用通用类型转换函数settype(mixed var,string type)</p><p><br/></p><p>一个一个来看看：<br/>&nbsp;第一种转换方式： (int)&nbsp; (bool)&nbsp; (float)&nbsp; (string)&nbsp; (array) (object)</p><pre class="brush:php;toolbar:false">&lt;?php&nbsp;&nbsp;&nbsp;&nbsp;\r\n$num1=3.14;&nbsp;\r\n//简单粗暴&nbsp;&nbsp;&nbsp;\r\n$num2=(int)$num1;&nbsp;&nbsp;&nbsp;&nbsp;\r\nvar_dump($num1);&nbsp;//输出float(3.14)&nbsp;&nbsp;&nbsp;&nbsp;\r\nvar_dump($num2);&nbsp;//输出int(3)&nbsp;&nbsp;&nbsp;&nbsp;\r\n?&gt;</pre><p>&nbsp; <br/>第二种转换方式：&nbsp; intval()&nbsp; floatval()&nbsp; strval()，这种非常常见<br/></p><pre class="brush:php;toolbar:false">&lt;?php&nbsp;&nbsp;&nbsp;&nbsp;\r\n$num3=&quot;123.9abc&quot;;&nbsp;&nbsp;&nbsp;&nbsp;\r\n$num4=intval($num3);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//转换后数值：123&nbsp;&nbsp;&nbsp;&nbsp;\r\n$float=floatval($num3);&nbsp;//转换后数值：123.9&nbsp;&nbsp;&nbsp;&nbsp;\r\n$str=strval($num3);&nbsp;&nbsp;&nbsp;//转换后字符串：&quot;123.9abc&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n?&gt;</pre><p><br/>第三种转换方式：&nbsp; settype();<br/></p><pre class="brush:php;toolbar:false">&lt;?php&nbsp;&nbsp;&nbsp;&nbsp;\r\n$num4=12.8;&nbsp;&nbsp;&nbsp;&nbsp;\r\n$num5=settype($num4,&quot;int&quot;);&nbsp;&nbsp;&nbsp;&nbsp;\r\nvar_dump($num5);&nbsp;&nbsp;//输出bool(true)&nbsp;，注意&nbsp;返回值是bool&nbsp;&nbsp;\r\nvar_dump($num4);&nbsp;//输出int(12)&nbsp;&nbsp;&nbsp;&nbsp;\r\n?&gt;</pre><p>好了，就这么些了。<br/></p><p><br/></p>', NULL, 0, 0, 7);
INSERT INTO `article` (`id`, `title`, `type`, `date`, `abstract`, `content`, `pic`, `order`, `is_top`, `click_rate`) VALUES
(67, 'uploadify的使用', 'js,php', '2016-09-02 12:22:17', 'Uploadify是JQuery的一个上传插件，实现的效果非常不错，带进度显示。', '<p>Uploadify是JQuery的一个上传插件，实现的效果非常不错，带进度显示。</p><p>我用的版本是2.2.</p><pre class="brush:html;toolbar:false">&lt;!DOCTYPE&nbsp;html&gt;\r\n&lt;html&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&lt;include&nbsp;file=&quot;./Tpl/head&quot;&nbsp;/&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&lt;body&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;!--引用css--&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&lt;link&nbsp;href=&quot;/Skin/public/uploadify/uploadify.css&quot;&nbsp;type=&quot;text/css&quot;&nbsp;rel=&quot;stylesheet&quot;&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;include&nbsp;file=&quot;./Tpl/top&quot;&nbsp;/&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;id=&quot;main-container&quot;&gt;\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;a&nbsp;id=&quot;menu-toggler&quot;&nbsp;href=&quot;#&quot;&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;span&gt;&lt;/span&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/a&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;include&nbsp;file=&quot;./Tpl/left&quot;&nbsp;/&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;id=&quot;breadcrumbs&quot;&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;script&nbsp;type=&quot;text/javascript&quot;&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try{ace.settings.check(&#39;breadcrumbs&#39;&nbsp;,&nbsp;&#39;fixed&#39;)}catch(e){}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/script&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;ul&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;i&nbsp;class=&quot;icon-home&nbsp;home-icon&quot;&gt;&lt;/i&gt;&lt;a&nbsp;href=&quot;{:U(&#39;/Admin/Index/index&#39;)}&quot;&gt;管理后台&lt;/a&gt;&lt;/li&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;li&gt;{$column_name}管理&lt;/li&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;li&gt;修改&lt;/li&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/ul&gt;&lt;!--&nbsp;.breadcrumb&nbsp;--&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;class=&quot;widget-header&nbsp;widget-header-small&quot;&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;h5&gt;修改内容&lt;/h5&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&gt;&lt;/div&gt;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;form&nbsp;id=&quot;updateForm&quot;&nbsp;action=&quot;{:U(&#39;Admin/Home/caseUpdate&#39;)}&quot;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method=&quot;POST&quot;&nbsp;enctype=&quot;multipart/form-data&quot;&nbsp;onsubmit=&quot;return&nbsp;jQuery(this).validationEngine(&#39;validate&#39;);&quot;&nbsp;role=&quot;form&quot;&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;input&nbsp;type=&quot;hidden&quot;&nbsp;name=&quot;c_id&quot;&nbsp;value=&quot;{$data.c_id}&quot;&nbsp;/&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;input&nbsp;type=&quot;hidden&quot;&nbsp;name=&quot;httpref&quot;&nbsp;value=&quot;{$httpref}&quot;&nbsp;/&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;label&nbsp;class=&quot;col-sm-1&nbsp;control-label&nbsp;no-padding-right&quot;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for=&quot;form-field-1&quot;&gt;&nbsp;标题&nbsp;&lt;/label&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;input&nbsp;type=&quot;text&quot;&nbsp;name=&quot;c_name&quot;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value=&quot;{$data[&#39;c_name&#39;]}&quot;&nbsp;placeholder=&quot;如李潇潇&quot;&nbsp;class=&quot;col-xs-10&nbsp;col-sm-5&nbsp;validate[required,maxSize[40]]&quot;&nbsp;/&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;label&nbsp;class=&quot;col-sm-1&nbsp;control-label&nbsp;no-padding-right&quot;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for=&quot;form-field-1&quot;&gt;&nbsp;头像&nbsp;&lt;/label&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;input&nbsp;type=&quot;file&quot;&nbsp;name=&quot;file_upload&quot;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;id=&quot;file_upload&quot;/&gt;&amp;nbsp;&amp;nbsp;大小223px*431px;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;input&nbsp;type=&quot;hidden&quot;&nbsp;name=&quot;c_avatar&quot;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;id=&quot;c_avatar&quot;&nbsp;value=&quot;{$data[&#39;c_avatar&#39;]}&quot;/&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;p&gt;&lt;img&nbsp;src=&quot;{$data[&#39;c_avatar&#39;]}&quot;&nbsp;style=&quot;width:&nbsp;80px;&nbsp;height:&nbsp;100px;&quot;&nbsp;id=&quot;newsimg&quot;&nbsp;class=&quot;newsimgpre&nbsp;uploadimg&quot;&gt;&lt;/p&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;class=&quot;clearfix&nbsp;form-actions&quot;&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;class=&quot;col-md-offset-1&nbsp;col-md-11&quot;&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;button&nbsp;class=&quot;btn&nbsp;btn-info&quot;&nbsp;onclick=&quot;$(&#39;#updateForm&#39;).submit();&quot;&nbsp;type=&quot;button&quot;&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;i&nbsp;class=&quot;icon-ok&nbsp;bigger-110&quot;&gt;&lt;/i&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;提交\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/button&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;a&nbsp;id=&quot;backid&quot;&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;i&nbsp;class=&quot;icon-undo&nbsp;bigger-110&quot;&gt;&lt;/i&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;返回列表\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/a&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/form&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;include&nbsp;file=&quot;./Tpl/bottom&quot;&nbsp;/&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;a&nbsp;href=&quot;#&quot;&nbsp;id=&quot;btn-scroll-up&quot;&nbsp;class=&quot;btn-scroll-up&nbsp;btn&nbsp;btn-sm&nbsp;btn-inverse&quot;&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;i&nbsp;class=&quot;icon-double-angle-up&nbsp;icon-only&nbsp;bigger-110&quot;&gt;&lt;/i&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/a&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;&lt;!--&nbsp;/.main-container&nbsp;--&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&lt;include&nbsp;file=&quot;./Tpl/foot&quot;&nbsp;/&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&lt;!--引用js--&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&lt;script&nbsp;type=&quot;text/javascript&quot;&nbsp;src=&quot;/Skin/public/uploadify/jquery.uploadify.min.js&quot;&gt;&lt;/script&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&lt;script&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;$(function(){\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$(&#39;#file_upload&#39;).uploadify({\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//注意这里&nbsp;&nbsp;uploadify无法传递session&nbsp;&nbsp;只能通过formData\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;formData&#39;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;&lt;?php&nbsp;echo&nbsp;session_name();?&gt;&#39;&nbsp;:&nbsp;&#39;&lt;?php&nbsp;echo&nbsp;session_id();?&gt;&#39;,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;timestamp&#39;&nbsp;:&nbsp;&#39;&lt;?php&nbsp;echo&nbsp;$timestamp;?&gt;&#39;,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;token&#39;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;&#39;&lt;?php&nbsp;echo&nbsp;md5(&#39;unique_salt&#39;&nbsp;.&nbsp;$timestamp);?&gt;&#39;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;swf&#39;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;&#39;/Skin/public/uploadify/uploadify.swf&#39;,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;uploader&#39;&nbsp;:&nbsp;&quot;{:U(&#39;Admin/Home/uploadify&#39;)}&quot;,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;buttonText&#39;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;&nbsp;&nbsp;&#39;选择图片&#39;,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;buttonClass&#39;&nbsp;&nbsp;&nbsp;:&nbsp;&nbsp;&#39;upload_button&#39;,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;fileTypeDesc&#39;&nbsp;&nbsp;:&nbsp;&nbsp;&nbsp;&#39;图片文件&#39;,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;width&#39;:&#39;100px&#39;,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;height&#39;:&#39;50px&#39;,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&#39;fileTypeExts&#39;&nbsp;&nbsp;:&nbsp;&nbsp;&nbsp;&#39;*.gif;*.jpg;*.png;*.jpeg&#39;,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&#39;fileSizeLimit&#39;&nbsp;:&nbsp;&#39;50000&#39;,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;progressData&#39;:&nbsp;&#39;percentage&#39;,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;onUploadSuccess&#39;&nbsp;:&nbsp;function(file,&nbsp;data,&nbsp;response)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//var&nbsp;path=data;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//alert(data)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;data&nbsp;=&nbsp;JSON.parse(data);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(data.status&nbsp;==&nbsp;0){alert(&#39;上传失败&#39;);return&nbsp;false;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$(&#39;#newsimg&#39;).attr(&quot;src&quot;,data.data);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$(&#39;#c_avatar&#39;).val(data.data);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Your&nbsp;options&nbsp;here\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;});\r\n&nbsp;&nbsp;&nbsp;&nbsp;&lt;/script&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;</pre><p>action</p><pre class="brush:php;toolbar:false">public&nbsp;function&nbsp;uploadify()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;import(&#39;ORG.Net.UploadFile&#39;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$upload&nbsp;=&nbsp;new&nbsp;UploadFile();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$upload-&gt;maxSize&nbsp;&nbsp;=&nbsp;20480000&nbsp;;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$upload-&gt;allowExts&nbsp;&nbsp;=&nbsp;array(&#39;jpg&#39;,&nbsp;&#39;jpeg&#39;,&nbsp;&#39;png&#39;,&nbsp;&#39;gif&#39;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$upload-&gt;savePath&nbsp;=&nbsp;&nbsp;&#39;./Upload/case/&#39;;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$upload-&gt;saveRule&nbsp;=&nbsp;&#39;uniqid&#39;;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$return&nbsp;&nbsp;=&nbsp;array(&#39;status&#39;&nbsp;=&gt;&nbsp;1,&nbsp;&#39;info&#39;&nbsp;=&gt;&nbsp;&#39;上传成功&#39;,&nbsp;&#39;data&#39;&nbsp;=&gt;&nbsp;&#39;&#39;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//$upload-&gt;saveRule&nbsp;=&nbsp;&#39;getrand&#39;;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(!$upload-&gt;upload()){\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$return[&#39;status&#39;]&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$return[&#39;info&#39;]&nbsp;&nbsp;&nbsp;=&nbsp;$upload-&gt;getErrorMsg();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$return[&#39;status&#39;]&nbsp;=&nbsp;1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$info&nbsp;=&nbsp;&nbsp;$upload-&gt;getUploadFileInfo();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$return[&#39;data&#39;]&nbsp;&nbsp;&nbsp;=&nbsp;&#39;/Upload/case/&#39;.$info[0][savename];\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;json_encode($return);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;}</pre><p>因为这是后台上传图片的地方，需要限制权限</p><pre class="brush:php;toolbar:false">/*处理权限*/\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$session_name&nbsp;=&nbsp;session_name();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//dump($session_name);&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//echo&nbsp;$_POST[$session_name];\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!isset($_POST[$session_name])){\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if($_SESSION[&#39;u_name&#39;]&nbsp;==&nbsp;&#39;&#39;){\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$this-&gt;error(&#39;登录已超时&#39;,&nbsp;U(&quot;Admin/Index/login&quot;),&nbsp;3);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</pre><p>来看看效果，还不错哟！</p><p><img src="http://www.13sai.com/zeta/ueditor/themes/default/images/spacer.gif" word_img="file:///C:UsersAdministratorAppDataRoamingTencentUsers3125726850QQWinTempRichOleA_[)XK]%A3T%4CE9S~WFQPA.png" style="background:url(http://www.13sai.com/zeta/ueditor/lang/zh-cn/images/localimage.png) no-repeat center center;border:1px solid #ddd"/><img alt="QQ图片20160902202138.png" src="/ueditor/php/upload/image/20160902/1472818923619404.png" title="1472818923619404.png"/></p><p><br/></p>', NULL, 0, 1, 8),
(68, '解决ThinkPHP多文件上传重名的问题', 'php', '2016-09-04 07:29:32', '同时上传同类型多文件文件时，ThinkPHP总会提示文件已存在，如何解决这个问题？', '<p>前几天开发时，需要同时上传两张图，但总出现问题，打开提示，显示的事文件名已存在。</p><p>各种搜索，没找到解决方法，然后就改成了uploadify上传，但治标不治本，同事说可以修改uploadFile的类，获取savename时增加随机数。</p><p>修改savename</p><pre class="brush:php;toolbar:false">private&nbsp;function&nbsp;getSaveName($filename)&nbsp;{\r\n	$rand&nbsp;=&nbsp;mt_rand(1000,9999);&nbsp;&nbsp;//生成五位随机数\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$rule&nbsp;=&nbsp;$this-&gt;saveRule;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(empty($rule))&nbsp;{//没有定义命名规则，则保持文件名不变\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$saveName&nbsp;=&nbsp;$filename[&#39;name&#39;];\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}else&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(function_exists($rule))&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//使用函数生成一个唯一文件标识号&nbsp;&nbsp;加入随机数\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$saveName&nbsp;=&nbsp;$rule().$rand.&quot;.&quot;.$filename[&#39;extension&#39;];\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}else&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//使用给定的文件名作为标识号\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$saveName&nbsp;=&nbsp;$rule.$rand.&quot;.&quot;.$filename[&#39;extension&#39;];\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if($this-&gt;autoSub)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;使用子目录保存文件\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$filename[&#39;savename&#39;]&nbsp;=&nbsp;$saveName;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$saveName&nbsp;=&nbsp;$this-&gt;getSubName($filename).$saveName;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;$saveName;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}</pre><p>这样就几乎不会出现同名的情况了。<br/></p>', NULL, 0, 0, 3);
INSERT INTO `article` (`id`, `title`, `type`, `date`, `abstract`, `content`, `pic`, `order`, `is_top`, `click_rate`) VALUES
(69, '一键登录（qq,weibo）', 'php', '2016-09-04 07:44:48', '基于ThinkPHP的一键登录。', '<p>首先需要去qq，weibo申请密钥，然后会得到<span style="color: rgb(51, 51, 51); font-family: &#39;Microsoft Yahei&#39;, 微软雅黑, arial, 宋体, sans-serif; line-height: 28px; text-align: justify; background-color: rgb(255, 255, 255);">APPID和APPKEY</span>，然后一步步操作，都有提示。成功后把配置写在common函数以便后期调用。</p><pre class="brush:php;toolbar:false">&lt;?php\r\n\r\n//qq一键登录\r\n\r\nfunction&nbsp;qqlogin_config(){\r\n&nbsp;&nbsp;&nbsp;&nbsp;define(&quot;QQDEBUG&quot;,&nbsp;false);\r\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(defined(&quot;QQDEBUG&quot;)&nbsp;&amp;&amp;&nbsp;QQDEBUG)\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@ini_set(&quot;error_reporting&quot;,&nbsp;E_ALL);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@ini_set(&quot;display_errors&quot;,&nbsp;TRUE);\r\n&nbsp;&nbsp;&nbsp;&nbsp;}else{\r\n&nbsp;&nbsp;&nbsp;&nbsp;	error_reporting(E_ALL^E_NOTICE);\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;session_start();\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;//申请到的appid\r\n&nbsp;&nbsp;&nbsp;&nbsp;$_SESSION[&quot;appid&quot;]&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;&#39;&#39;;&nbsp;\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;//申请到的appkey\r\n&nbsp;&nbsp;&nbsp;&nbsp;$_SESSION[&quot;appkey&quot;]&nbsp;&nbsp;&nbsp;=&nbsp;&quot;&quot;;&nbsp;\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;//QQ登录成功后跳转的地址,请确保地址真实可用，否则会导致登录失败。&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;//一定要注意回调地址\r\n&nbsp;&nbsp;&nbsp;&nbsp;$_SESSION[&quot;callback&quot;]&nbsp;=&nbsp;&quot;http://&quot;&nbsp;.&nbsp;$_SERVER[&#39;SERVER_NAME&#39;]&nbsp;.&nbsp;&quot;/index.php/Home/OAuth/qqCallback&quot;;&nbsp;\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;//QQ授权api接口.按需调用\r\n&nbsp;&nbsp;&nbsp;&nbsp;//$_SESSION[&quot;scope&quot;]&nbsp;=&nbsp;&quot;get_user_info,add_share,list_album,add_album,upload_pic,add_topic,add_one_blog,add_weibo&quot;;\r\n&nbsp;&nbsp;&nbsp;&nbsp;$_SESSION[&quot;scope&quot;]&nbsp;=&nbsp;&quot;get_user_info&quot;;\r\n}\r\n\r\nfunction&nbsp;qqlogin_do_post($url,&nbsp;$data)\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;$ch&nbsp;=&nbsp;curl_init();\r\n&nbsp;&nbsp;&nbsp;&nbsp;curl_setopt($ch,&nbsp;CURLOPT_RETURNTRANSFER,&nbsp;TRUE);&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;curl_setopt($ch,&nbsp;CURLOPT_POST,&nbsp;TRUE);&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;curl_setopt($ch,&nbsp;CURLOPT_POSTFIELDS,&nbsp;$data);&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;curl_setopt($ch,&nbsp;CURLOPT_URL,&nbsp;$url);\r\n&nbsp;&nbsp;&nbsp;&nbsp;$ret&nbsp;=&nbsp;curl_exec($ch);\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;curl_close($ch);\r\n&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;$ret;\r\n}\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n/*----------------------------------------------\r\n&nbsp;*&nbsp;\r\n&nbsp;*&nbsp;微博一键登录\r\n&nbsp;*\r\n&nbsp;*----------------------------------------------*/\r\n&nbsp;\r\n/**\r\n&nbsp;*&nbsp;微博一键登录&nbsp;-&nbsp;配置\r\n&nbsp;*/\r\nfunction&nbsp;weibo_config(){\r\n&nbsp;&nbsp;&nbsp;&nbsp;define(&nbsp;&quot;WB_AKEY&quot;&nbsp;,&nbsp;&#39;4002186908&#39;&nbsp;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;define(&nbsp;&quot;WB_SKEY&quot;&nbsp;,&nbsp;&#39;dd81902ee3460eba972f46487aac41e2&#39;&nbsp;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;define(&nbsp;&quot;WB_CALLBACK_URL&quot;&nbsp;,&nbsp;&#39;http://www.ayanglao.org.cn&#39;&nbsp;&nbsp;.&nbsp;U(&#39;Home/OAuth/weiboCallback&#39;));\r\n}</pre><p>然后就是OAuthAction</p><pre class="brush:php;toolbar:false">&lt;?php\r\n\r\nclass&nbsp;OAuthAction&nbsp;extends&nbsp;AppbaseAction&nbsp;{\r\n\r\n	public&nbsp;function&nbsp;qqLogin(){\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//....\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qqlogin_config();\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$_SESSION[&#39;state&#39;]&nbsp;=&nbsp;md5(uniqid(rand(),&nbsp;TRUE));&nbsp;//CSRF&nbsp;protection\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$login_url&nbsp;=&nbsp;&quot;https://graph.qq.com/oauth2.0/authorize?response_type=code&amp;client_id=&quot;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.&nbsp;$_SESSION[&quot;appid&quot;]&nbsp;.&nbsp;&quot;&amp;redirect_uri=&quot;&nbsp;.&nbsp;urlencode($_SESSION[&quot;callback&quot;])\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.&nbsp;&quot;&amp;state=&quot;&nbsp;.&nbsp;$_SESSION[&#39;state&#39;]\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.&nbsp;&quot;&amp;scope=&quot;.$_SESSION[&quot;scope&quot;];\r\n&nbsp;&nbsp;&nbsp;&nbsp;	//echo&nbsp;$login_url;\r\n&nbsp;&nbsp;&nbsp;&nbsp;	//print_r($_SESSION);\r\n&nbsp;&nbsp;&nbsp;&nbsp;	//die();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;header(&quot;Location:$login_url&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;qqCallback(){\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qqlogin_config();\r\n		//var_dump($_SESSION);\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;获取token\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if($_REQUEST[&#39;state&#39;]&nbsp;==&nbsp;$_SESSION[&#39;state&#39;])&nbsp;//csrf\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$token_url&nbsp;=&nbsp;&quot;https://graph.qq.com/oauth2.0/token?grant_type=authorization_code&amp;&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.&nbsp;&quot;client_id=&quot;&nbsp;.&nbsp;$_SESSION[&quot;appid&quot;].&nbsp;&quot;&amp;redirect_uri=&quot;&nbsp;.&nbsp;urlencode($_SESSION[&quot;callback&quot;])\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.&nbsp;&quot;&amp;client_secret=&quot;&nbsp;.&nbsp;$_SESSION[&quot;appkey&quot;].&nbsp;&quot;&amp;code=&quot;&nbsp;.&nbsp;$_REQUEST[&quot;code&quot;];\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$response&nbsp;=&nbsp;file_get_contents($token_url);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(strpos($response,&nbsp;&quot;callback&quot;)&nbsp;!==&nbsp;false)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$lpos&nbsp;=&nbsp;strpos($response,&nbsp;&quot;(&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$rpos&nbsp;=&nbsp;strrpos($response,&nbsp;&quot;)&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$response&nbsp;&nbsp;=&nbsp;substr($response,&nbsp;$lpos&nbsp;+&nbsp;1,&nbsp;$rpos&nbsp;-&nbsp;$lpos&nbsp;-1);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$msg&nbsp;=&nbsp;json_decode($response);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(isset($msg-&gt;error))\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;&quot;&lt;h3&gt;error-token:&lt;/h3&gt;&quot;&nbsp;.&nbsp;$msg-&gt;error;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;&quot;&lt;h3&gt;msg&nbsp;&nbsp;:&lt;/h3&gt;&quot;&nbsp;.&nbsp;$msg-&gt;error_description;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exit;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$params&nbsp;=&nbsp;array();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parse_str($response,&nbsp;$params);\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//debug\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//print_r($params);die();\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//set&nbsp;access&nbsp;token&nbsp;to&nbsp;session\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$_SESSION[&quot;access_token&quot;]&nbsp;=&nbsp;$params[&quot;access_token&quot;];\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo(&quot;The&nbsp;state&nbsp;does&nbsp;not&nbsp;match.&nbsp;You&nbsp;may&nbsp;be&nbsp;a&nbsp;victim&nbsp;of&nbsp;CSRF.&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;获取open_id\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$graph_url&nbsp;=&nbsp;&quot;https://graph.qq.com/oauth2.0/me?access_token=&quot;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.&nbsp;$_SESSION[&#39;access_token&#39;];\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$str&nbsp;&nbsp;=&nbsp;file_get_contents($graph_url);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(strpos($str,&nbsp;&quot;callback&quot;)&nbsp;!==&nbsp;false)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$lpos&nbsp;=&nbsp;strpos($str,&nbsp;&quot;(&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$rpos&nbsp;=&nbsp;strrpos($str,&nbsp;&quot;)&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$str&nbsp;&nbsp;=&nbsp;substr($str,&nbsp;$lpos&nbsp;+&nbsp;1,&nbsp;$rpos&nbsp;-&nbsp;$lpos&nbsp;-1);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$user&nbsp;=&nbsp;json_decode($str);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(isset($user-&gt;error))\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;&quot;&lt;h3&gt;error-openid:&lt;/h3&gt;&quot;&nbsp;.&nbsp;$user-&gt;error;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;&quot;&lt;h3&gt;msg&nbsp;&nbsp;:&lt;/h3&gt;&quot;&nbsp;.&nbsp;$user-&gt;error_description;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exit;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//debug\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//echo(&quot;Hello&nbsp;&quot;&nbsp;.&nbsp;$user-&gt;openid);\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//set&nbsp;openid&nbsp;to&nbsp;session\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$_SESSION[&quot;openid&quot;]&nbsp;=&nbsp;$user-&gt;openid;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;todo:&nbsp;进行登录与注册的判断\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;获取用户信息\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$graph_url&nbsp;=&nbsp;&quot;https://graph.qq.com/user/get_user_info&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;	.&nbsp;&#39;?access_token=&#39;&nbsp;.&nbsp;$_SESSION[&#39;access_token&#39;]\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;	.&nbsp;&#39;&amp;oauth_consumer_key=&#39;&nbsp;.&nbsp;$_SESSION[&#39;appid&#39;]\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.&nbsp;&#39;&amp;openid=&#39;&nbsp;.&nbsp;$_SESSION[&quot;openid&quot;];\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$str&nbsp;&nbsp;=&nbsp;file_get_contents($graph_url);\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$json_result&nbsp;=&nbsp;json_decode($str);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if($json_result-&gt;ret&nbsp;==&nbsp;&#39;0&#39;){\r\n&nbsp;&nbsp;&nbsp;&nbsp;	&nbsp;&nbsp;&nbsp;&nbsp;$nickname&nbsp;=&nbsp;$json_result-&gt;nickname;&nbsp;//昵称\r\n&nbsp;&nbsp;&nbsp;&nbsp;	&nbsp;&nbsp;&nbsp;&nbsp;$avatar&nbsp;=&nbsp;$json_result-&gt;figureurl_qq_2;&nbsp;//40*40的qq头像\r\n&nbsp;&nbsp;&nbsp;&nbsp;	&nbsp;&nbsp;&nbsp;&nbsp;$gender&nbsp;=&nbsp;$json_result-&gt;gender;&nbsp;//性别\r\n&nbsp;&nbsp;&nbsp;&nbsp;		//echo&nbsp;&#39;&lt;meta&nbsp;charset=&quot;utf-8&quot;&nbsp;/&gt;&#39;;\r\n&nbsp;&nbsp;&nbsp;&nbsp;		//echo&nbsp;&quot;昵称：$nickname&lt;br&gt;性别：$gender&lt;br&gt;QQ头像：&lt;img&nbsp;src=$figureurl_qq_1&nbsp;/&gt;&quot;;die();\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;		$row&nbsp;=&nbsp;M(&quot;member&quot;)-&gt;where(&quot;m_qq_openid=&#39;%s&#39;&quot;,$_SESSION[&quot;openid&quot;])-&gt;find();\r\n&nbsp;&nbsp;&nbsp;&nbsp;		if($row){\r\n			&nbsp;&nbsp;&nbsp;&nbsp;session(&#39;m_id&#39;,$row[&#39;m_id&#39;]);\r\n			&nbsp;&nbsp;&nbsp;&nbsp;session(&#39;m_nick_name&#39;,$row[&#39;m_nick_name&#39;]);\r\n			&nbsp;&nbsp;&nbsp;&nbsp;session(&#39;m_login_name&#39;,$row[&#39;m_login_name&#39;]);\r\n			&nbsp;&nbsp;&nbsp;&nbsp;session(&#39;is_org&#39;,-1);\r\n			&nbsp;&nbsp;&nbsp;&nbsp;//U(&#39;Home/Home/index&#39;,null,true,true);\r\n			&nbsp;&nbsp;&nbsp;&nbsp;if(session(&#39;shebei&#39;)&nbsp;==&nbsp;1){\r\n&nbsp;&nbsp;&nbsp;&nbsp;			&nbsp;&nbsp;&nbsp;&nbsp;//echo&nbsp;&#39;&lt;script&gt;window.close();window.opener.location.href=&quot;http://www.13sai.com&#39;.U(&#39;Wap/Home/index&#39;).&#39;&quot;;&lt;/script&gt;&#39;;\r\n&nbsp;&nbsp;&nbsp;&nbsp;			&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;&#39;&lt;script&gt;window.location.href=&quot;http://www.13sai.com&#39;.U(&#39;Wap/Home/index&#39;).&#39;&quot;;&lt;/script&gt;&#39;;\r\n			&nbsp;&nbsp;&nbsp;&nbsp;}else{\r\n&nbsp;&nbsp;&nbsp;&nbsp;			&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;&#39;&lt;script&gt;window.close();window.opener.location.href=&quot;http://www.13sai.com&quot;;&lt;/script&gt;&#39;;\r\n			&nbsp;&nbsp;&nbsp;&nbsp;}\r\n			&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;		}else{\r\n&nbsp;&nbsp;&nbsp;&nbsp;			//&nbsp;创建新用户\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$count&nbsp;=&nbsp;M(&quot;member&quot;)-&gt;max(&#39;m_id&#39;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$count++;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$rand&nbsp;=&nbsp;mt_rand(1000,9999);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;	&nbsp;&nbsp;&nbsp;&nbsp;	//$data[&#39;gender&#39;]&nbsp;&nbsp;=&nbsp;$gender;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;	&nbsp;&nbsp;&nbsp;&nbsp;	$data[&#39;m_avatar&#39;]&nbsp;&nbsp;=&nbsp;$avatar;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;	&nbsp;&nbsp;&nbsp;&nbsp;	$data[&#39;m_nick_name&#39;]&nbsp;&nbsp;=&nbsp;mb_substr($nickname,0,6,&quot;utf-8&quot;)&nbsp;.&nbsp;$count;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;	&nbsp;&nbsp;&nbsp;&nbsp;$data[&#39;m_login_name&#39;]&nbsp;=&nbsp;&#39;qq_&#39;.$rand.&#39;&#39;.$count;\r\n&nbsp;&nbsp;&nbsp;&nbsp;		&nbsp;&nbsp;&nbsp;&nbsp;$data[&#39;m_password&#39;]&nbsp;=&nbsp;md5(md5(time()));\r\n&nbsp;&nbsp;&nbsp;&nbsp;	&nbsp;&nbsp;&nbsp;&nbsp;	$data[&#39;m_qq_openid&#39;]&nbsp;&nbsp;=&nbsp;$_SESSION[&quot;openid&quot;];&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;		&nbsp;&nbsp;&nbsp;&nbsp;$data[&#39;from&#39;]&nbsp;=&nbsp;&#39;qq&#39;;\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;		&nbsp;&nbsp;&nbsp;&nbsp;session(&#39;kj_object&#39;,$data);\r\n\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;	&nbsp;&nbsp;&nbsp;&nbsp;	if(session(&#39;shebei&#39;)&nbsp;==&nbsp;1){\r\n&nbsp;&nbsp;&nbsp;&nbsp;			&nbsp;&nbsp;&nbsp;&nbsp;//echo&nbsp;&#39;&lt;script&gt;window.close();window.opener.location.href=&quot;http://www.13sai.com&#39;.U(&#39;Wap/Guide/binding&#39;).&#39;&quot;;&lt;/script&gt;&#39;;\r\n&nbsp;&nbsp;&nbsp;&nbsp;			&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;&#39;&lt;script&gt;window.location.href=&quot;http://www.13sai.com&#39;.U(&#39;Wap/Guide/binding&#39;).&#39;&quot;;&lt;/script&gt;&#39;;\r\n			&nbsp;&nbsp;&nbsp;&nbsp;}else{\r\n&nbsp;&nbsp;&nbsp;&nbsp;			&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;&#39;&lt;script&gt;window.close();window.opener.location.href=&quot;http://www.13sai.com&#39;.U(&#39;Home/Guide/binding&#39;).&#39;&quot;;&lt;/script&gt;&#39;;\r\n			&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;	&nbsp;&nbsp;&nbsp;&nbsp;	//echo&nbsp;&#39;&lt;script&gt;window.close();window.opener.location.href=&quot;http://www.13sai.com&quot;;&lt;/script&gt;&#39;;\r\n&nbsp;&nbsp;&nbsp;&nbsp;		}\r\n&nbsp;&nbsp;&nbsp;&nbsp;		\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}else{\r\n&nbsp;&nbsp;&nbsp;&nbsp;	&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;&#39;111&#39;.$str;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;//微博一键登录（登录）\r\n&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;weiboLogin(){\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;session_start();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;weibo_config();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Vendor(&#39;Weibo.saetv2ex&#39;);\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$o&nbsp;=&nbsp;new&nbsp;SaeTOAuthV2(&nbsp;WB_AKEY&nbsp;,&nbsp;WB_SKEY&nbsp;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$code_url&nbsp;=&nbsp;$o-&gt;getAuthorizeURL(&nbsp;WB_CALLBACK_URL&nbsp;);\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;header(&quot;Location:&nbsp;&quot;&nbsp;.&nbsp;$code_url);\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;//微博一键登录（回调）\r\n&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;weiboCallback(){\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;session_start();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;error_reporting(E_ERROR);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;weibo_config();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Vendor(&#39;Weibo.saetv2ex&#39;);\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$o&nbsp;=&nbsp;new&nbsp;SaeTOAuthV2(&nbsp;WB_AKEY&nbsp;,&nbsp;WB_SKEY&nbsp;);\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(isset($_REQUEST[&#39;code&#39;]))&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;	$keys&nbsp;=&nbsp;array();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;	$keys[&#39;code&#39;]&nbsp;=&nbsp;$_REQUEST[&#39;code&#39;];\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;	$keys[&#39;redirect_uri&#39;]&nbsp;=&nbsp;WB_CALLBACK_URL;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;	try&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;		$token&nbsp;=&nbsp;$o-&gt;getAccessToken(&nbsp;&#39;code&#39;,&nbsp;$keys&nbsp;)&nbsp;;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;	}&nbsp;catch&nbsp;(OAuthException&nbsp;$e)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;	}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;($token)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;	$_SESSION[&#39;token&#39;]&nbsp;=&nbsp;$token;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;	setcookie(&nbsp;&#39;weibojs_&#39;.$o-&gt;client_id,&nbsp;http_build_query($token)&nbsp;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;	\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;	$c&nbsp;=&nbsp;new&nbsp;SaeTClientV2(&nbsp;WB_AKEY&nbsp;,&nbsp;WB_SKEY&nbsp;,&nbsp;$_SESSION[&#39;token&#39;][&#39;access_token&#39;]&nbsp;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;	$ms&nbsp;&nbsp;=&nbsp;$c-&gt;home_timeline();&nbsp;//&nbsp;done\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;	$uid_get&nbsp;=&nbsp;$c-&gt;get_uid();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;	$uid&nbsp;=&nbsp;$uid_get[&#39;uid&#39;];\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;	$user_message&nbsp;=&nbsp;$c-&gt;show_user_by_id(&nbsp;$uid);//根据ID获取用户等基本信息\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;	\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;	//保存几个基本信息\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;	$openid&nbsp;=&nbsp;$user_message[&#39;id&#39;];\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;	$nickname&nbsp;=&nbsp;$user_message[&#39;screen_name&#39;];\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;	$avatar&nbsp;=&nbsp;$user_message[&#39;profile_image_url&#39;];\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;	$gender&nbsp;=&nbsp;$user_message[&#39;gender&#39;];\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;	$gender&nbsp;=&nbsp;($gender==&#39;m&#39;)?&#39;男&#39;:&#39;女&#39;;\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;	/*以下为写本地数据库*/\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;	\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;	//通过&nbsp;$openid&nbsp;检查用户是否存在\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;	//if(存在){\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;	//\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;	//}else{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;		//&nbsp;创建新用户\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;		//&nbsp;设置登录状态\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;	//}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;	//dump($user_message);\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;	$row&nbsp;=&nbsp;M(&quot;member&quot;)-&gt;where(&quot;m_weibo_openid=&#39;%s&#39;&quot;,$openid)-&gt;find();\r\n&nbsp;&nbsp;&nbsp;&nbsp;		if($row){\r\n			&nbsp;&nbsp;&nbsp;&nbsp;session(&#39;m_id&#39;,$row[&#39;m_id&#39;]);\r\n			&nbsp;&nbsp;&nbsp;&nbsp;session(&#39;m_nick_name&#39;,$row[&#39;m_nick_name&#39;]);\r\n			&nbsp;&nbsp;&nbsp;&nbsp;session(&#39;m_login_name&#39;,$row[&#39;m_login_name&#39;]);\r\n			&nbsp;&nbsp;&nbsp;&nbsp;session(&#39;is_org&#39;,-1);\r\n			&nbsp;&nbsp;&nbsp;&nbsp;//U(&#39;Home/Home/index&#39;,null,true,true);\r\n			&nbsp;&nbsp;&nbsp;&nbsp;if(session(&#39;shebei&#39;)&nbsp;==&nbsp;1){\r\n&nbsp;&nbsp;&nbsp;&nbsp;			&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;&#39;&lt;script&gt;window.close();window.opener.location.href=&quot;http://www.13sai.com&#39;.U(&#39;Wap/Home/index&#39;).&#39;&quot;;&lt;/script&gt;&#39;;\r\n			&nbsp;&nbsp;&nbsp;&nbsp;}else{\r\n&nbsp;&nbsp;&nbsp;&nbsp;			&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;&#39;&lt;script&gt;window.close();window.opener.location.href=&quot;http://www.13sai.com&quot;;&lt;/script&gt;&#39;;\r\n			&nbsp;&nbsp;&nbsp;&nbsp;}\r\n			&nbsp;&nbsp;&nbsp;&nbsp;//echo&nbsp;&#39;&lt;script&gt;window.close();window.opener.location.href=&quot;http://www.13sai.com&quot;;&lt;/script&gt;&#39;;\r\n&nbsp;&nbsp;&nbsp;&nbsp;		}else{\r\n&nbsp;&nbsp;&nbsp;&nbsp;			//&nbsp;创建新用户\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$count&nbsp;=&nbsp;M(&quot;member&quot;)-&gt;max(&#39;m_id&#39;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$count++;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$rand&nbsp;=&nbsp;mt_rand(1000,9999);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;	&nbsp;&nbsp;&nbsp;&nbsp;	//$data[&#39;gender&#39;]&nbsp;&nbsp;=&nbsp;$gender;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;	&nbsp;&nbsp;&nbsp;&nbsp;	$data[&#39;m_avatar&#39;]&nbsp;&nbsp;=&nbsp;$avatar;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;	&nbsp;&nbsp;&nbsp;&nbsp;	$data[&#39;m_nick_name&#39;]&nbsp;&nbsp;=&nbsp;mb_substr($nickname,0,6,&quot;utf-8&quot;)&nbsp;.&nbsp;$count;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;	&nbsp;&nbsp;&nbsp;&nbsp;$data[&#39;m_login_name&#39;]&nbsp;=&nbsp;&#39;wb_&#39;.$rand.&#39;&#39;.$count;\r\n&nbsp;&nbsp;&nbsp;&nbsp;		&nbsp;&nbsp;&nbsp;&nbsp;$data[&#39;m_password&#39;]&nbsp;=&nbsp;md5(md5(time()));\r\n&nbsp;&nbsp;&nbsp;&nbsp;	&nbsp;&nbsp;&nbsp;&nbsp;	$data[&#39;m_weibo_openid&#39;]&nbsp;&nbsp;=&nbsp;$openid;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;		&nbsp;&nbsp;&nbsp;&nbsp;$data[&#39;from&#39;]&nbsp;=&nbsp;&#39;weibo&#39;;\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;		&nbsp;&nbsp;&nbsp;&nbsp;session(&#39;kj_object&#39;,$data);\r\n\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;	&nbsp;&nbsp;&nbsp;&nbsp;	if(session(&#39;shebei&#39;)&nbsp;==&nbsp;1){\r\n&nbsp;&nbsp;&nbsp;&nbsp;			&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;&#39;&lt;script&gt;window.close();window.opener.location.href=&quot;http://www.13sai.com&#39;.U(&#39;Wap/Guide/binding&#39;).&#39;&quot;;&lt;/script&gt;&#39;;\r\n			&nbsp;&nbsp;&nbsp;&nbsp;}else{\r\n&nbsp;&nbsp;&nbsp;&nbsp;			&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;&#39;&lt;script&gt;window.close();window.opener.location.href=&quot;http://www.13sai.com&#39;.U(&#39;Home/Guide/binding&#39;).&#39;&quot;;&lt;/script&gt;&#39;;\r\n			&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;	&nbsp;&nbsp;&nbsp;&nbsp;	\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;	//跳转到会员中心\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;	echo&nbsp;&#39;授权失败&#39;;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n\r\n\r\n\r\n}</pre><p>前台调用比较简单</p><pre class="brush:html;toolbar:false">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;class=&quot;yijian&nbsp;wd-center&quot;&gt;\r\n		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;p&nbsp;class=&quot;wd-left&quot;&gt;使用其他账号登录&lt;/p&gt;\r\n		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;a&nbsp;onclick=&quot;toQzoneLogin()&quot;&nbsp;class=&quot;other_login&nbsp;other_login_qq&quot;&gt;&lt;img&nbsp;src=&quot;/webui/home/images/Q.png&quot;&gt;&lt;/a&gt;\r\n		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;a&nbsp;onclick=&quot;toWeiboLogin()&quot;&gt;&lt;img&nbsp;src=&quot;/webui/home/images/weibo.png&quot;&gt;&lt;/a&gt;\r\n\r\n		&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;\r\n		&nbsp;&nbsp;&nbsp;&nbsp;\r\n\r\n&lt;script&gt;\r\nfunction&nbsp;toQzoneLogin()\r\n{\r\n	var&nbsp;A=window.open(&quot;http://www.ayanglao.org.cn{:U(&#39;Home/OAuth/qqLogin&#39;,&#39;&#39;,false)}/&quot;+Math.random(),&quot;TencentLogin&quot;,&quot;width=600,height=480,menubar=0,scrollbars=1,&nbsp;resizable=1,status=1,titlebar=0,toolbar=0,location=1&quot;);\r\n}\r\n\r\nfunction&nbsp;toWeiboLogin()\r\n{\r\n	var&nbsp;A=window.open(&quot;http://www.ayanglao.org.cn{:U(&#39;Home/OAuth/weiboLogin&#39;,&#39;&#39;,false)}/&quot;+Math.random(),&quot;WeiboLogin&quot;,&quot;width=450,height=320,menubar=0,scrollbars=1,&nbsp;resizable=1,status=1,titlebar=0,toolbar=0,location=1&quot;);\r\n}\r\n&lt;/script&gt;</pre><p>这样就ok了。下次说说微信登录。<br/></p>', NULL, 0, 1, 10),
(70, '微信登录', 'php', '2016-09-04 07:50:11', '基于ThinkPHP的微信一键登录。', '<p>微信登录相比qq登录要简单，直接上代码。</p><p>同样需要申请appid与secret</p><p>WechatAction</p><pre class="brush:php;toolbar:false">&lt;?php\r\n\r\nclass&nbsp;WechatAction&nbsp;extends&nbsp;AppbaseAction&nbsp;{\r\n//申请的appid&nbsp;secret&nbsp;\r\nprivate&nbsp;$appid&nbsp;=&nbsp;&quot;&quot;;\r\nprivate&nbsp;$secret&nbsp;=&nbsp;&quot;&quot;;\r\nprivate&nbsp;$scope&nbsp;=&nbsp;&quot;snsapi_userinfo&quot;;\r\n\r\n/*继承父类*/\r\n&nbsp;&nbsp;&nbsp;&nbsp;protected&nbsp;function&nbsp;_initialize()&nbsp;{\r\nparent::_initialize();\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;index(){\r\n&nbsp;&nbsp;&nbsp;echo&nbsp;111;\r\n&nbsp;&nbsp;&nbsp;//echo&nbsp;$this-&gt;appid;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n\r\n//微信登录，同意授权，获取code\r\n&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;oauthLogin(){\r\n$appid&nbsp;=&nbsp;$this-&gt;appid;\r\n$scope&nbsp;=&nbsp;$this-&gt;scope;\r\n$redirect_uri&nbsp;=&nbsp;urlencode(&#39;http://www.13sai.com&#39;.U(&#39;Wap/Wechat/oauthCallback&#39;));\r\n$url&nbsp;=&nbsp;&quot;https://open.weixin.qq.com/connect/oauth2/authorize?appid=$appid&amp;redirect_uri=$redirect_uri&amp;response_type=code&amp;scope=$scope&amp;state=1#wechat_redirect&quot;;\r\n//echo&nbsp;$url;die();\r\nheader(&quot;Location:&quot;.$url);\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;//OAthu2.0&nbsp;回调函数\r\n&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;oauthCallback(){\r\n$appid&nbsp;=&nbsp;$this-&gt;appid;\r\n$secret&nbsp;=&nbsp;$this-&gt;secret;\r\n$code&nbsp;=&nbsp;$_GET[&quot;code&quot;];\r\n//echo&nbsp;$code.&#39;&lt;br&gt;&#39;;\r\n&nbsp;\r\n//第一步:取全局access_token\r\n$url&nbsp;=&nbsp;&quot;https://api.weixin.qq.com/cgi-bin/token?grant_type=client_credential&amp;appid=$appid&amp;secret=$secret&quot;;\r\n$token&nbsp;=&nbsp;z_get_json($url);\r\n//dump($token).&#39;&lt;br&gt;&#39;;\r\n\r\n//第二步:取得openid\r\n$oauth2Url&nbsp;=&nbsp;&quot;https://api.weixin.qq.com/sns/oauth2/access_token?appid=$appid&amp;secret=$secret&amp;code=$code&amp;grant_type=authorization_code&quot;;\r\n$oauth2&nbsp;=&nbsp;z_get_json($oauth2Url);\r\n//dump($oauth2).&#39;&lt;br&gt;&#39;;\r\n&nbsp;\r\n//第三步:根据全局access_token和openid查询用户信息&nbsp;&nbsp;\r\n$access_token&nbsp;=&nbsp;$token[&quot;access_token&quot;];&nbsp;&nbsp;\r\n$openid&nbsp;=&nbsp;$oauth2[&#39;openid&#39;];&nbsp;&nbsp;\r\n$get_user_info_url&nbsp;=&nbsp;&quot;https://api.weixin.qq.com/cgi-bin/user/info?access_token=$access_token&amp;openid=$openid&amp;lang=zh_CN&quot;;\r\n//echo&nbsp;$get_user_info_url;\r\n$userinfo&nbsp;=&nbsp;z_get_json($get_user_info_url);\r\n//dump($userinfo);\r\n//die();\r\n\r\n//if($userinfo[&#39;openid&#39;]!=&#39;&#39;){\r\n//&nbsp;echo&nbsp;&#39;&lt;br&gt;&lt;br&gt;&#39;.$userinfo[&#39;openid&#39;];\r\n//}\r\n//dump($userinfo);\r\n//die();\r\n//判断注册还是登录\r\nif($userinfo[&#39;openid&#39;]!=&#39;&#39;){\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$row&nbsp;=&nbsp;M(&quot;member&quot;)-&gt;where(&quot;m_weixin_openid=&#39;%s&#39;&quot;,$userinfo[&quot;openid&quot;])-&gt;find();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if($row){\r\n&nbsp;&nbsp;&nbsp;session(&#39;m_id&#39;,$row[&#39;m_id&#39;]);\r\n&nbsp;&nbsp;&nbsp;session(&#39;m_nick_name&#39;,$row[&#39;m_nick_name&#39;]);\r\n&nbsp;&nbsp;&nbsp;session(&#39;m_login_name&#39;,$row[&#39;m_login_name&#39;]);\r\n&nbsp;&nbsp;&nbsp;session(&#39;is_org&#39;,-1);\r\n&nbsp;&nbsp;&nbsp;//U(&#39;Home/Home/index&#39;,null,true,true);\r\n&nbsp;&nbsp;&nbsp;echo&nbsp;&#39;&lt;script&gt;window.location.href=&quot;http://www.13sai.com&#39;.U(&#39;Wap/Home/index&#39;).&#39;&quot;;&lt;/script&gt;&#39;;\r\n&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}else{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;创建新用户\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$count&nbsp;=&nbsp;M(&quot;member&quot;)-&gt;max(&#39;m_id&#39;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$count++;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$rand&nbsp;=&nbsp;mt_rand(1000,9999);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//$data[&#39;gender&#39;]&nbsp;&nbsp;=&nbsp;$gender;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$data[&#39;m_avatar&#39;]&nbsp;&nbsp;=&nbsp;$userinfo[&#39;headimgurl&#39;];&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$data[&#39;m_nick_name&#39;]&nbsp;&nbsp;=&nbsp;mb_substr($userinfo[&#39;nickname&#39;],0,6,&quot;utf-8&quot;)&nbsp;.&nbsp;$count;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$data[&#39;m_login_name&#39;]&nbsp;=&nbsp;&#39;wx_&#39;.$rand.&#39;&#39;.$count;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$data[&#39;m_password&#39;]&nbsp;=&nbsp;md5(md5(time()));\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$data[&#39;m_weixin_openid&#39;]&nbsp;&nbsp;=&nbsp;$userinfo[&quot;openid&quot;];\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$data[&#39;m_jingyan&#39;]&nbsp;=&nbsp;50;\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;session(&#39;kj_object&#39;,$data);\r\n\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;&#39;&lt;script&gt;window.location.href=&quot;http://www.13sai.com&#39;.U(&#39;Wap/Guide/binding&#39;).&#39;&quot;;&lt;/script&gt;&#39;;\r\n&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n}else{\r\n&nbsp;&nbsp;&nbsp;&nbsp;U(&#39;Wap/Index/login&#39;,&#39;&#39;,&#39;&#39;,true);\r\n}\r\n}\r\n}</pre><p>前台模板类似qq &nbsp;微博一键登录，就不赘述了。</p><p>注意：这是微信里的一键登录，需要申请服务号，才能获取授权。</p>', NULL, 0, 1, 14),
(71, 'php字符串中双引号及反斜杠替换问题', 'php', '2016-09-06 07:20:09', 'php字符串中双引号及反斜杠替换问题', '<p>需要转义下<br/></p><p>php字符串中双引号替换:</p><p>$tmp_data = str_replace(&quot;&quot;&quot;,&quot;&quot;,$tmp_data);双引号替换为空字符串</p><p>$tmp_data = str_replace(&quot;&quot;&quot;,&quot;&#39;&quot;,$tmp_data);双引号替换为单引号&nbsp;</p><p>&nbsp;</p><p>php字符串中替换反斜杠</p><p>$tmp_data = str_replace(&quot;\\&quot;,&quot;&quot;,$tmp_data); 反斜杠替换为空字符串</p><p><br/></p>', '', 0, 0, 6);

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
